(self.webpackChunkmhrdamage=self.webpackChunkmhrdamage||[]).push([[379,517],{379:(e,t,o)=>{o.r(t),o.d(t,{addSpaces:()=>l,importJson:()=>r,initCharms:()=>s,loadJsons:()=>d});var n=o(102),a=o(517);const l=e=>e.replace(/(?<=[a-z])([A-Z])(?![A-Z])/g," $1");let c=["LightBowGun","GreatSword","ChargeBlade","InsectGlaive","SwordNShield","DualBlades","SwitchAxe","LongSword","Lance","HeavyBowGun","Bow","HuntingHorn","Gunlance","Hammer"],r=async e=>{let t=await fetch(`./json/${e}.json`),o=await t.json();if("charms"===e?(window.thisKey.charms=o,s(o)):window.thisKey[e]=await o,"LightBowGun"===e){let e="";window.thisKey.LightBowGun.weapons.forEach(((t,o)=>{t.rank<10||(e+=`<option value="${o}">${t.weapon}</option>`)})),document.getElementById("dropWeapon").innerHTML=e}};async function d(){const e=[].concat(c,["descriptions","ammoDistance","charms","skillIds"]);for(const t of e)await r(t);let t=await localStorage.getItem("index");if(null!==await t){await(0,a.loadCacheState)(t);for(let e=0;e<5;++e){let t=await localStorage.getItem(e);t&&await(0,a.setSaveDisplays)(document.querySelectorAll(`#saveState${e} ~ *`),JSON.parse(t))}}else localStorage.setItem("index",0)}function s(e){let t="<Option value='0'>---</Option>",o="<Option value='0'>---</Option>";for(let[n,a]of Object.entries(e))t+=`<option value="${a[0][0]}">${l(n)} +${a[0][0]}</option>`,o+=`<option value="${a[1][0]}">${l(n)} +${a[1][0]}</option>`;document.getElementById("charmSkill1").innerHTML=t,document.getElementById("charmSkill2").innerHTML=o,document.getElementById("slot1").selectedIndex=2,document.getElementById("slot2").selectedIndex=2,document.getElementById("slot3").selectedIndex=2,(0,n.uQ)("charm",[2,2,2])}},517:(e,t,o)=>{o.r(t),o.d(t,{konamiCode:()=>i,loadCacheState:()=>I,saveCache:()=>x,setSaveDisplays:()=>v,toClipboardNoFocus:()=>r});var n=o(38),a=o(102),l=o(16),c=o(923);window.saveDebouncer=0;const r=e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)};let d=[38,38,40,40,37,39,37,39,97,98,13],s=0;function i(e){(0,n.rA)(e);const t=window.thisKey.types.maxLevel,o=Object.entries(t).sort();document.querySelector("#EquippedSkillDisplay>output").innerHTML=createSkillDisplay(o,(e=>e.replace(/(?<=[a-z])([A-Z])(?![A-Z])/g," $1"))),Object.values(document.querySelectorAll(`select.${e},#dango select`)).forEach((e=>e.selectedIndex=e.childElementCount-1)),Object.values(document.querySelectorAll("#boxes .check")).forEach((e=>e.checked=!0)),console.log("Konami Code entered!")}document.addEventListener("keydown",(function(e){e.keyCode===d[s]?(s++,s===d.length&&(i(document.getElementById("dropWeaponType").value),s=0)):s=0}));const m=e=>Object.values(document.querySelectorAll(e)).map((e=>e.selectedIndex)),u=e=>Object.values(document.querySelectorAll(e)).map((e=>e.checked?1:0)),p="#dropWeaponType,#dropWeapon",y="#helm,#chest,#waist,#arm,#leg",h=".augmentType",w=".augment",S="#charmSlots select",g=`select:not(${p},${y},.augmentType,.augment,#dropMon2,#dropHZV2,#dropSkills,#charmSlots select)`,f=".check:not(label)",E=document.querySelector("#statsEffective").children;function v(e,t){e[0].src=`./icons/${document.getElementById("dropWeaponType").options[t.weapon[0]].text}.webp`,e[1].textContent=t.display[0],e[2].src=`./icons/${t.display[1]}webp`,e[3].textContent=t.display[2]}function x(){let e=localStorage.getItem("index")||0,t={weapon:m(p),armor:m(y),augmentType:m(h),augment:m(w),monster:[(0,c.yh)("dropMonster2"),(0,c.AN)("dropHZV2")],remainingSelects:m(g),charmLimiters:m(S),checkBoxes:u(f),setSearch:Object.values(document.querySelectorAll("#skillSelect label")).map((e=>[window.thisKey.skillIds[e.textContent],+e.nextElementSibling.textContent.slice(-1)])),display:[E[2].textContent,E[3].src.match(/\w+\.webp$/)[0],E[4].textContent]};localStorage.setItem(e,JSON.stringify(t)),v(document.querySelectorAll(`#saveState${e} ~ *`),t)}function I(e=0){let t=localStorage.getItem("index");document.getElementById(`saveState${t}`).textContent="Equip Build",document.getElementById(`saveState${e}`).textContent="Current Build",localStorage.setItem("index",e);const o=JSON.parse(localStorage.getItem(e)||"[]");if(Array.isArray(o))return;(0,n.Dw)(o.monster[0]),(0,c.sM)("dropHZV2",o.monster[1]),(0,c.sM)("dropWeaponType",o.weapon[0]);let r="";window.thisKey[(0,c.yh)("dropWeaponType")].weapons.forEach(((e,t)=>{10===e.rank&&(r+=`<option value="${t}">${e.weapon}</option>`)})),document.getElementById("dropWeapon").innerHTML=r,(0,c.sM)("dropWeapon",o.weapon[1]);let d=document.querySelector("#weapon > img");d.src=d.src.replace(/(\w+)\.webp$/,`${(0,c.yh)("dropWeaponType")}.webp`),(0,n.rA)(),(0,n.E_)(),document.querySelectorAll(S).forEach(((e,t)=>{e.selectedIndex=o.charmLimiters[t]})),Object.values(document.querySelectorAll(y)).forEach(((e,t)=>{e.selectedIndex=o.armor[t],(0,a.M9)(e.id)})),document.querySelectorAll(h).forEach(((e,t)=>{e.selectedIndex=o.augmentType[t],(0,l.jA)(e),e.nextElementSibling.selectedIndex=o.augment[t]})),(0,c.VW)().forEach((e=>(0,l.sC)(e))),document.querySelectorAll(g).forEach(((e,t)=>{e.selectedIndex=o.remainingSelects[t]})),(0,l.to)(),document.querySelectorAll(f).forEach(((e,t)=>{e.checked=o.checkBoxes[t]})),o.setSearch.forEach((e=>(0,n.Nb)(window.thisKey.skillIds[e[0]],e[1]))),(0,n.TG)()}document.body.addEventListener("change",(()=>{performance.now()>5e3&&x()})),document.body.addEventListener("click",(()=>{performance.now()>5e3&&x()})),Object.values(document.querySelectorAll(".load")).forEach((e=>e.addEventListener("click",(e=>{I(e.target.id.slice(-1))}))))}}]);
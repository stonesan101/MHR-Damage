(()=>{var e={541:(e,t,n)=>{n.d(t,{x:()=>l});var o=n(923);function l(e=[1.25,6,5.5,11.75]){let t={};const n=window.thisKey.skillIds;let l={};document.querySelectorAll("#searcherSkills>div>output").forEach((e=>{const o=e.className.split(" ")[1];t[n[o]]=+e.textContent.slice(-1)}));let a=["",{"+Slots":-6},{"+Slots":-12},{"+Slots":-18}],s={"-Def":5},{decos:r,qurious:i}=window.thisKey.types,c=window.thisKey.charms;const d={helm:[],waist:[],chest:[],arm:[],leg:[]},u=Math.max(0,(0,o.Ly)("StormSoul")-3);return Object.keys(d).forEach((o=>{window.thisKey.armor[o].forEach((m=>{if(!m.quriousPoints||"MaleOnly"===m.sex)return;let p=[],g=new Int8Array(m.decos),{quriousPoints:h}=m,y=[],f=[],w=[],E=0,v=0,S=0,B=new Uint8Array(5),I=Object.entries(m.skills);if(u)for(let e=0;e<I.length;e++)I[e][1]+=u;if(13!==m.quriousTable){if(m.decoAugments.length>1){for(let e of m.decoAugments){let t=new Uint8Array(e);t[5]*=6,y.push(t)}let e=y.length-1;for(let t=0;t<4;t++)g[t]=y[e][t];p[2]=a[y[e][5]/6],h-=y[e][5]}let o=0;for(let a=0;a<I.length;a++){let[s,d]=[+I[a][0],I[a][1]];B[a]=s;let u=t[s]?0:d;if(t[s]&&d>t[s]&&(u=d-t[s],d=t[s]),t[s]){f.push(s);let t=n[s];S+=c[t]&&1===c[t][0].length||!c[t]&&(!i[t]||!r[t])?15*d:d*e[r[t]-1||1]}for(;u-- >0;)o<2||!p[2]?(l[s]||(l[s]={"-Skill":s}),h+=10,p[o++]=l[s],++E):(w[v++]=s,++E)}for(let e=0;e<3;e++)p[e]||(h+=5,p[e]=s);for(let t=0;t<4;t++)S+=g[t]*e[t]}S+=~~(h/3),f.sort(((e,t)=>i[n[t]]-i[n[e]]));const b={skills:Object.fromEntries(I),requestedSkills:new Uint8Array(f),innateSkills:B,fodderSkills:new Uint8Array(w),quriousPoints:h,augs:p,decoAugs:y,initAugs:p.slice(),startingQuriousPoints:h,unBloatedPoints:~~(h/3),decos:g,len:I.length,fodderCount:E,skillLimitation:5-I.length,name:m.name,type:o,armorRating:S};13===m.quriousTable&&(b.decos.forEach(((e,t)=>[1,1,0,1][t])),b.quriousPoints=0,b.unBloatedPoints=0,b.augs=[s,s,s,s,a[3],a[2]]);let x=d[o].length;if(x<15||d[o][--x].armorRating<b.armorRating){for(;x&&d[o][x-1].armorRating<b.armorRating;)d[o][x]=d[o][--x];d[o][x]=b}}))})),Object.values(d).forEach((e=>{e.forEach((e=>delete e.armorRating))})),d}},16:(e,t,n)=>{n.d(t,{AB:()=>S,CC:()=>u,G_:()=>p,M9:()=>w,Ud:()=>r,YV:()=>s,dj:()=>g,jA:()=>f,qy:()=>y,sC:()=>m,to:()=>a,uQ:()=>i});var o=n(923);new Set(["DefenseBoost","DragonHeart","DragonConversion","Furious"]);const l=[["Inactive"],["Lvl-1","Inactive"],["Lvl-2","Lvl-1","Inactive"],["Lvl-3","Lvl-2","Lvl-1","Inactive"]],a=(e=!1)=>{let t="";const n=function(e={}){return(0,o.VW)().forEach((t=>{Object.values(document.querySelectorAll(`section.${t} .skillDiv>output`)).forEach((t=>{const n=t.textContent?.slice(0,-2).trim(),o=+t.textContent.slice(-2);o&&(e[n]=(e[n]||0)+o)}))})),e}(function(e={}){return Object.values(document.querySelectorAll(".decoDisplay>select,select.charm")).map((t=>{if(!t.selectedOptions[0])return;const n=t.selectedOptions[0].textContent?.slice(0,-2).trim(),o=+t.selectedOptions[0].textContent?.slice(-2);o>0&&(e[n]=(e[n]||0)+o)})),e}()),a=Object.entries(n).sort(),s=document.querySelector("#EquippedSkillDisplay>output");let r=document.querySelectorAll("#EquippedSkillDisplay>output *"),i=1;for(const[n,s]of a){if(!e&&window.selectedSkills[n.replace(/\s+/g,"")]>=0){for(;!r[i].textContent.includes(n);)(i+=2)>=r.length&&(i=1);if(r[i].textContent.at(-1)!=s&&"Frostcraft"!==n)r[i].textContent=r[i].textContent.slice(0,-1)+s;else if("Frostcraft"===n){let e=r[i-1].textContent.slice(-1),n=l[Math.min(3,s)],o=e>=0?Math.max(0,s-e):n.length-1;t+=`<button type="button" aria-pressed="false" data-state="${o}" onClick="let states = ${JSON.stringify(n).replace(/"/g,"'")}; let index = (+this.dataset.state + 1) % ${n.length}; this.textContent = states[index]; this.dataset.state = index;">${n[o]}</button>`,r[i].textContent=r[i].textContent.slice(0,-1)+s}"Frostcraft"!==n&&(t+=r[i-1].outerHTML),t+=r[i].outerHTML;continue}let a="Active",c=["Active","Inactive"];"Dereliction"===n?(c=["Lvl-3","Inactive","Lvl-1","Lvl-2"],a=c[0]):"Fortify"===n?(c=["Inactive","Lvl-1","Lvl-2"],a=c[0]):"Frostcraft"===n?(c=l[Math.min(3,+s)],a=c[0]):"Strife"===n?(c=["High","Low","Inactive"],a=c[0]):"Blood Awakening"===n&&(c=["Inactive","High","Low"],a=c[0]),t+=`<button type="button" aria-pressed="false" data-state="0" onclick="let states = ${JSON.stringify(c).replace(/"/g,"'")}; let index = (+this.dataset.state + 1) % ${c.length}; this.textContent = states[index]; this.dataset.state = index;">${a}</button><output>${(0,o.qh)(n)}: ${+s}</output>`}s.innerHTML=t};function s(e){e.previousElementSibling?.selectedIndex<1?Object.values(e.children).forEach((e=>e.disabled=!0)):Object.values(e.children).forEach((e=>e.disabled=!1));m(e.parentElement.id?e.parentElement.id.slice(0,-7):e.parentElement.parentElement.id.slice(0,-7))}function r(e,t,n=!1){if(!n&&performance.now()-window.thisKey.time?.augments<100)return console.log(performance.now()-window.thisKey.time?.augments),void(window.thisKey.time.augments=performance.now());window.thisKey.time.augments=performance.now(),f(e,t);let o=-1;for(let n of Object.values(e.options))if(++o,t&&n.textContent.includes(t)){e.selectedIndex=o;break}}document.getElementById("armorSet").addEventListener("change",(e=>{e.target.classList.contains("augmentType")&&(f(e.target),e.target.nextElementSibling.selectedIndex=0,s(e.target))})),document.getElementById("armorSet").addEventListener("focus",(e=>{e.target.classList.contains("augment")&&(f(e.target),e.target.nextElementSibling.selectedIndex=0,s(e.target))}));const i=(e,t)=>{document.querySelectorAll(`section.${e} .decoDisplay img`).forEach(((e,n)=>{const l=t[n],a=e.nextElementSibling;if(l||(a.selectedIndex=0,a.innerHTML="",e.src=e.src.replace(/lvl\d/,"lvl0"),e.className=e.className.replace(/(?<=lvl)\d/,0)),!l||0!==a.options.length&&e.classList.contains(`lvl${l}`))return;e.className=e.className.replace(/(?<=lvl)\d/,l),e.src=e.src.replace(/lvl\d/,`lvl${l}`);let s='<option value="0"> ---- </option>',r=l;for(;r--;)s+=`<option class="optTitle" value="${r+1}" disabled>lvl-${r+1} Decos</option>`,window.thisKey.types.decoLevels[r].forEach((e=>{const[t,n]=Object.entries(e)[0];s+=`<option value="${r+1}">${(0,o.qh)(t)} +${n}</option>`}));a.innerHTML=s}))};function c(e,t){for(let n=0;n<3&&t>0;++n)0===e[n]&&(++e[n],--t);for(let n=0;n<3&&t>0;++n){let o=Math.min(t,4-e[n]);e[n]+=o,t-=o}return e}const d=e=>structuredClone(window.thisKey.armor[e][document.getElementById(e).value]),u=(e=(0,o.VW)())=>{Object.values(e).forEach((e=>{if(""===e)return;const t=d(e),n={...t.skills},l=Object.values(document.querySelectorAll(`#${e}Qurious select.augmentType`));let a=[0,0,0],s=5,r=0;for(;r<4&&s--;){let e=t.decos[s];for(;e--;)a[r]=s+1,++r}for(let e of l){let t=e.nextElementSibling;if(!(t.selectedIndex<=0||e.selectedIndex<=0))if(2===e.selectedIndex||4===e.selectedIndex){const o=window.util.toSkillID(t.selectedOptions[0].textContent.replace(/\s|[+-] ?\d+Pts/g,""));n[o]?n[o]+=e.selectedIndex-3:n[o]=1}else 3===e.selectedIndex&&(a=c(a,t.selectedIndex))}document.querySelectorAll(`section.${e}.eleDiv`).forEach((e=>e.children[1].textContent=t[e.classList[0]])),((e,t)=>{[2,3,4,0,1].forEach(((n,l)=>{const a=document.querySelectorAll(`section.${e} .skillDiv>output`)[n];if(!Object.keys(t)[l])return a.textContent="",a.parentElement.style.display="none",void(a.nextElementSibling.style.display="none");let s=Object.entries(t)[l];s[0]=window.util.toSkillName(s[0]),a.textContent=(0,o.qh)(s.join(" +")),a.parentElement.style.display="grid",a.nextElementSibling.style.display=""}))})(e,n),i(e,a)}))};function m(e){const t=d(e);Object.values(document.querySelectorAll(`section.${e} .skillDiv>output`)).filter((e=>e.textContent)).map((t=>{if(+t.textContent.slice(-3)<0)return Object.values(document.querySelectorAll(`#${e}Qurious .augment`)).filter((e=>!e.selectedOptions[0]?.textContent.includes(t.textContent.slice(0,-3).trim())))})).forEach((e=>{e&&(e[e.length-1].selectedIndex=-1,e[e.length-1].previousSibling.selectedIndex=-1)}));let n=t.quriousPoints;for(let t=0;t<6;t++){const o=document.querySelectorAll(`section.${e} .augment`)[t];n+ +o.value<0&&(o.selectedIndex=-1,document.querySelectorAll(`section.${e} select.augmentType`)[t].selectedIndex=-1),n+=+o.value}return u([e]),E(e,n,t.quriousPoints),n}const p=e=>{const t=[[],[],[],[]];let n=0;for(;;){let l=e[n+3];if(!l)break;for(;--l>=0;)t[e[n+2]].push((0,o.qh)(e[n]));n+=4}return t},g=e=>{const t=Object.values(document.querySelectorAll("select.charm"));let n=0;for(let l of t)for(let t=0;t<l.options.length;t++)if(l.options[t].textContent.includes((0,o.qh)(window.util.twoWayHashing(e[n][0])))){l.selectedIndex=t,++n;break}},h=(e,t)=>{if(t=(0,o.qh)(t),"SELECT"===e?.tagName)for(let n=0;n<e.childElementCount;n++)if(e.children[n].textContent.replace(/ [-+]\d+Pts/,"")===t){e.selectedIndex=n;break}},y=(e,t)=>{(0,o.VW)().forEach(((n,o)=>{let l=e[n],a=t[o];h(document.querySelector(`select.${n}`),a),w(n);let s=document.querySelectorAll(`#${n}Qurious .augmentType`);for(let e=0;e<l.length&&l[e];e++){let t=Object.entries(l[e])[0],n=t[0];switch(n){case"-Def":s[e].selectedIndex=1,t[1]=2;break;case"-Skill":s[e].selectedIndex=2;break;case"+Skill":s[e].selectedIndex=4;break;case"+Slots":s[e].selectedIndex=3,t[1]/=-6}let o=s[e].nextElementSibling;f(o,window.util.toSkillName(t[1])),h(o,window.util.toSkillName(t[1])),/Def|Slot/.test(n)?o.selectedIndex=t[1]:h(o,window.util.toSkillName(t[1]))}m(n)}))};function f(e,t=""){t&&(t=(0,o.qh)(t));let n=0,l=0;const a=e.classList.contains("augmentType")?e:e.previousElementSibling,s=e.classList.contains("augmentType")?e.nextElementSibling:e,r=e.parentElement.parentElement.id.slice(0,-7),i=function(e,t=0){if(!e)return;const n=d(e);t+=n.quriousPoints;const o=document.querySelectorAll(`#${e}Qurious .augment`),l=document.querySelectorAll(`#${e}Qurious .augmentType`);for(let e=0;e<6;e++)t+ +o[e].value.match(/[+-]\d+/)<0&&(o[e].selectedIndex=0,l[e].selectedIndex=0),t+=+o[e].value.match(/[+-]\d+/);return E(e,t,n.quriousPoints),t}(r)-+s.value,c=d(r).skills;let u='<option value="0"> ---- </option>';switch(a.value){case"-Def":u+="<option option value ='+3'> -6 Def + 3Pts </option> <option value='+5'> -12 Def + 5Pts </option >";break;case"-Skill":Object.values(document.querySelectorAll(`section.${r} .skillDiv>output`)).forEach((e=>{!e.textContent||!c[e.textContent.replace(/\s+[+-]\d+Pts/g,"")]&&+e.textContent.match(/\d+/)[0]<=0&&!e.textContent.includes(t)||(++l,u+=`<option value="+10">${(0,o.qh)(e.textContent.replace(/\s+\+\d/g,""))} +10Pts </option>`,e.textContent.includes(t)&&(n=l))}));break;case"+Skill":let e=Object.values(document.querySelectorAll(`section.${r} .skillDiv>output`)),a=[];if(5===e.filter((e=>e.textContent&&(c[window.util.toSkillID(e.textContent.replace(/\s+[+-]\d+Pts/g,""))]||!e.textContent.includes(t)&&+e.textContent.at(-1)>1))).length){for(let t of e)if(t.textContent){let e=t.textContent.replace(/\s[+-]\d+/g,"");a.push([e,window.thisKey.types.qurious[e.replace(/\s/g,"")]])}}else a=Object.entries(window.thisKey.types.qurious).map((e=>[(0,o.qh)(e[0]),e[1]]));for(let e of a)e[1]>i||(u+=`<option value="-${e[1]}">${(0,o.qh)(e[0])} -${e[1]}Pts </option>`,++l,e[0]===t&&(n=l));break;case"+Slots":let s=~~Math.min(3,~~(i/6)),d=0;for(;++d<=s;){const e=-6*d;u+=`<option value="${e}"> +${d} Slot${d>1?"s":""} ${e}Pts </option>`}}s.innerHTML=u,s.selectedIndex=n}function w(e){if(!e)return;const t=d(e);E(e,t.quriousPoints,t.quriousPoints);let n=document.querySelectorAll(`.${e} .armorAugment select`);for(let e=0;e<12;e++)n[e].selectedIndex=0;u([e]),S()}function E(e,t,n){let o=document.querySelector(`section.${e} .currentPoints`);o.textContent=o.textContent.replace(/(?=>\s)?\d+(?=[^/]*\/)/,t).replace(/(?<=\/)\d+/,n)}const v=["dragon","fire","ice","thunder","water"];function S(){let e=(0,o.rv)("Dragonheart").Resist,t=e||(0,o.rv)("Furious").Resist+(0,o.rv)("DragonConversion").Resist+(0,o.rv)("DefenseBoost").Resist;const n={};for(let l of v)n[l]=e||(0,o.rv)(`${(0,o.A2)(l)}Resistance`).Resist+ +(0,o.yh)(`${(0,o.A2)(l)}Res`)+t;for(let t of(0,o.VW)()){let o=d(t),l=document.querySelector(`.${t}`);for(let t=0;t<5;t++)l.querySelector(`.${v[t]} output`).textContent=o.def[t+1],e||(n[v[t]]+=+o.def[t+1])}for(let e=0;e<5;e++)document.querySelector(`#weapon .${v[e]} output`).textContent=Math.min(50,n[v[e]]);!function(){let e=0;for(let t of(0,o.VW)()){let n=d(t).def[0];document.querySelectorAll(`#${t}Qurious .augmentType`).forEach((e=>{1===e.selectedIndex&&(n-=[0,6,12][Math.max(0,+e.nextElementSibling.selectedIndex)])})),document.querySelector(`section.${t} .def output`).textContent=n,e+=+n}document.querySelector("#weapon .def output").textContent=e}()}},985:(e,t,n)=>{n.d(t,{p:()=>l});var o=n(923);function l(e,t){const n=window.util.toSkillName,l=new Int8Array(window.thisKey[o.aP.value].weapons[o.uW.value].decos);Object.values(document.querySelectorAll(".charm select.armorDisplay")).forEach((e=>++l[e.options[2].value-1]));const a={};Object.values(document.querySelectorAll("#searcherSkills label")).forEach((e=>a[e.textContent]={totalPoints:+e.nextElementSibling.value[3]})),Object.entries(e.armors).forEach(((e,o)=>{let s=e[0],r=e[1],i=t[o];if(5===o)return;let c=window.thisKey.armor[s].find((e=>e.name===t[o])),d=r[2]["+Slots"]?c.decoAugments.find((e=>-r[2]["+Slots"]==6*e[5])):c.decoAugments[0];for(let e=0;e<4;e++)l[e]+=d[e];Object.entries(c.skills).forEach((e=>{a[n(e[0])]&&(a[n(e[0])][i]||(a[n(e[0])][i]={augs:0,innate:0}),a[n(e[0])][i].innate+=e[1],a[n(e[0])].totalPoints-=e[1])}));for(let e of r){if(!e)break;if(e["+Skill"]){let t=e["+Skill"];a[n(t)][i]||(a[n(t)][i]={augs:0,innate:0}),++a[n(t)][i].augs,--a[n(t)].totalPoints}}for(let e in a)a[n(e)][i]&&(a[n(e)][i]=JSON.stringify(a[n(e)][i]).replace(/[{}"]/g,""))}));let s=e.decos,r=0;for(;s[r+1];){let e=s[r++],t=s[r++],o=s[r++],i=s[r++],c=n(e),d=i*t;l[o]-=i,a[c].deco||(a[c].deco=0),a[c].deco+=d,a[c].totalPoints-=d}e.charms.forEach((e=>{let t=n(e[0]),o=e[1];a[t]||(a[t]={}),a[t].charm=o,a[t].totalPoints-=o})),console.log(e),console.table(a),console.log(l)}},466:(e,t,n)=>{n.d(t,{rA:()=>H,hB:()=>W,Nb:()=>G,TG:()=>q});var o=n(16),l=n(618),a=n(923);const s=document.getElementById("dropMonster2");function r(e,t,n,o=60,l=0){let a=0;a+=l;let s=0,r=0;for(;s<=o;){let i=n;for(;i;)s+=e,r+=s<=o?1:0,r>=a&&0!==l&&l!==1/0?a+=l:--i;s+=t}return r}function i(e){let t=/Sub-Lv|Explosion| Procs|\(RF\+\d\)/g.test(e.attackName)?e.attackName.replace(/Sub-| Explosion| \(RF\+\d\) Procs| Procs| \(RF\+\d\)/g,""):e.attackName;t=/(?<!Lv)\d/.test(t)?`${t.slice(0,t.length-1)}Lv${t.slice(-1)}`:t;const n={};n.ammoIncrease=window.thisKey.ammo.AmmoUp[t][(0,a.Ly)("AmmoUp")];n.recoilSpeed=window.thisKey.ammo.recoil[t][Math.max(0,Math.min(5,e.recoil-1+(0,a.Ly)("RecoilDown")+(window.thisKey.skills.BowgunBarrel[(0,a.AN)("BowgunBarrel")].Silencer>0?(0,a.Ly)("Tune-Up")+window.thisKey.skills.BowgunBarrel[(0,a.AN)("BowgunBarrel")].Silencer:0)-((0,a.AN)("CriticalFirePower")?2:0)))],n.recoilSpeed=/\(RF\+\d\)/.test(e.attackName)?`${n.recoilSpeed} ${e.attackName.match(/\(RF\+\d\)/)[0]}`:n.recoilSpeed,n.recoilFrames=window.thisKey.ammo.recoil.frames[n.recoilSpeed],n.reloadSpeed=window.thisKey.ammo.reload[t][Math.max(0,Math.min(8,e.reload+(0,a.Ly)("ReloadSpeed")+window.thisKey.skills.BowgunBarrel[(0,a.AN)("BowgunBarrel")].reload+(0===(0,a.AN)("BowgunBarrel")&&(0,a.Ly)("Tune-Up")?1:0)-((0,a.AN)("ElementalReload")?2:0)))],n.reloadFrames=window.thisKey.ammo.reload.frames[n.reloadSpeed],n.clipSize=e.clipSize[e.isUsed]+n.ammoIncrease,n.spareShot=Math.max(0,window.thisKey.skills.SpareShot[(0,a.Ly)("SpareShot")]+Number((0,a.yh)("spareAdjust"))),/(?<!snipe.*)explosion/.test(t)&&(0,a.AN)("Bombardier")>0&&(n.spareShot+=window.thisKey.skills.Bombardier[t.match(/Sticky|Wyvern/)[0]][2]),n.shotsPerMinBase=r(n.recoilFrames/30,n.reloadFrames/30,e.clipSize[e.isUsed],60),n.shotsPerMin=r(n.recoilFrames/30,n.reloadFrames/30,n.clipSize,60,100/n.spareShot),n.shotsPerGain=`${(100*(n.shotsPerMin/n.shotsPerMinBase-1)).toFixed(2)}%`;const o={PierceEle:3,"Pierce 1":1.5,"Pierce 2":1.1,"Pierce 3":1};if(t=t.replace(/ Lv/," "),++e.ticsPer,n.ticsAdjust=e.ticsPer,t.includes("Pierc")&&"Toadversary"!==s.value&&(n.ticsAdjust=Math.min(7,Math.ceil(window.thisKey.monster[s.value].size.gold/100/o[/Pierce L?v?\d/.test(t)?t:"PierceEle"]))*(e.attackName.includes("RF+")?+e.attackName.trim().slice(-2,-1):1)),/Pierc/.test(t)){const e=(0,a.AN)("pierceAdjust")>=0?JSON.parse((0,a.yh)("pierceAdjust")):[1,1];n.ticsAdjust*=/Lv|[1-3]/.test(t)?e[0]:e[1]}return n}var c=n(227),d=n(899),u=n(660),m=n(243),p=n(721),g=n(661),h=n(984);window.comboTracker=[];let{comboTracker:y}=window;const{selectedSkills:f}=window,{thisKey:w}=window,E=window.thisKey.skills,v=document.getElementById("dropWeapon");function S(){return document.getElementById("dropWeaponType").value}function B(e,t=y,n=0){return t.forEach((t=>{t==e&&++n})),n}const I={Dereliction:e=>(0,a.fy)("Dereliction",e.level,e.previous.slice(-1)),Strife:e=>(0,a.fy)("Strife",e.previous,e.level),BloodAwakening:e=>(0,a.fy)("BloodAwakening",a.aP.value.includes("BowGun")?"gunner":"melee",e.previous,e.level),Fortify:e=>(0,a.fy)("Fortify",e.previous.slice(-1)),ChargeLevel:()=>(0,a.HH)("ChargeLevel"),Bombardier:()=>(0,a.fy)("Bombardier"),Frostcraft:e=>window.thisKey.skills.Frostcraft["Bow"===a.aP.value?"Bow":"melee"][e.previous.slice(-1)],DragonConversion:()=>{const e=a.aP.value.includes("BowGun")?"ranged":"melee";let t=0,n=Object.values(document.querySelectorAll("#weapon .eleDiv:not(.def)>output"));for(let e of n)t+=Math.min(50,Math.max(0,+e.textContent));return{BE:t*(0,a.rv)("DragonConversion")[e]}},Bludgener:()=>(0,a.AN)("Sharpness")<4&&(0,a.AN)("Bludgeoner")>1||(0,a.AN)("Sharpness")>2&&(0,a.AN)("Bludgeoner")<4?(0,a.fy)("Bludgener",2):1===(0,a.AN)("Bludgeoner")&&(0,a.AN)("Sharpness")<4?(0,a.fy)("Bludgener",1):void 0};document.getElementById("slot1").selectedIndex=2,document.getElementById("slot2").selectedIndex=2,document.getElementById("slot3").selectedIndex=2,(0,o.uQ)("charm",[2,2,2]),window.combos={total:new Set},(0,p.E)(),(0,a.Ib)([].concat(["Select Skills For Set Builder"],Object.keys(w.types.maxLevel).sort()),document.getElementById("dropSkills")),function(){if(w.armor)for(const[e,t]of Object.entries(w.armor)){let n="",o=-1;for(const e of t)n+=`<option value="${++o}">${e.name}</option>`;document.getElementById(e)&&(document.getElementById(e).innerHTML=n)}}(),document.querySelector("#armorSet").addEventListener("change",(e=>{let t=e.target.id;w.armor[t]&&(0,o.M9)(t)})),(0,o.CC)(),(0,c.pb)();let b=document.querySelectorAll("#dropMonster>option"),x=b.length;for(;x--;)if("Toadversary"===b[x].textContent){(0,a.sM)("dropMonster",x);break}const k="#dropWeaponType,#dropWeapon",L="#helm,#chest,#waist,#arm,#leg",C=".augmentType",A="#charmSlots select",M=`select:not(${k},${L},.augmentType,.augment,#dropMon2,#dropHZV2,#dropSkills,#charmSlots select)`,P=".check:not(label)",$=document.querySelector("#statsEffective").children,R=document.querySelectorAll("#statsImg img")[1];let N=localStorage.getItem("index");if(null!==N&&localStorage.getItem(N)){Z(+N);for(let e=0;e<5;++e){let t=localStorage.getItem(e);t&&z(document.querySelectorAll(`#saveState${e} ~ *`),JSON.parse(t))}}else localStorage.setItem("index",0),H("LightBowGun"),c.l7.innerHTML=`<option value="${w.quest.length-1}">${w.quest.at(-1).quest}>`,(0,c.X0)(131),(0,c.lc)("Toadversary"),(0,c.Gt)(131),(0,c.Jt)(),q();function q(){window.selectedSkills={},window.specialCase={},Object.values(document.querySelectorAll("#EquippedSkillDisplay>output output")).forEach((e=>{let[t,n]=e.textContent.replace(/\s/g,"").split(":");const o={skillName:t,level:n,previous:e.previousElementSibling.textContent};"Inactive"!==o.previous?(window.selectedSkills[t]=+n,"Frostcraft"===o.skillName&&a.aP.value.includes("BowGun")?window.selectedSkills.Frostcraft=Math.min(+n,o.previous.slice(-1)):E[o.skillName]&&(window.specialCase[t]=I[t]?I[t](o):(0,a.rv)(t))):window.selectedSkills[t]=0})),window.specialCase.add=(e,t)=>{window.specialCase.arr.push(window.specialCase[e]),t.skillRecord.add(e)},w.BowCharge=(0,a.Ly)("BowChargePlus"),/BowGun/.test(S())?function(){let e;document.querySelector("output.elementalAug").value=0,(0,a.wP)("elementalResult","+0"),document.querySelector("output.sharpnessAug").value=0,(0,a.wP)("sharpnessResult","+0");const t=[],n=[];let o=!0;const s=(0,m.U)();let r=0,c=!1;for(let l of w.ammo.keys)if(l[0]&&0!==s.clipSize[w.ammo.keys.indexOf(l)]&&!/Max|Error|Full/.test(l[0])){c="LightBowGun"===S()&&l.includes(s.isRapidFire[r]),r+=c;for(let r=c?l.length/2:0;r<l.length&&(c||!l[r].includes("RF+"));r++){let c=(0,h.S)({...s,...w.ammo[l[r]],attackName:l[r]});c=j(c),/Demon|Armor|Wyvern Blast|Full|Error|Max|Wyvernh|Glide|Wyvernsn|Guard/.test(c.attackName)?e.ticsAdjust=1:e=i(c);const d=~~((~~c.efr+~~c.efe)*e.ticsAdjust),u=~~(~~c.rawCrit+~~c.eleCrit),m=~~(~~c.rawNon+~~c.eleNon),p=~~(.99+ +(0,a.yh)("health")/d);let g=p*(60/e.shotsPerMin)+(/Stic|Slic/.test(c.attackName)?5:0),y=~~(g/60),f=~~(g%60);f<10&&(f=`0${f}`);let v=g.toString().match(/(?<=\.)\d?\d?/);v=v?v[0].length>1?v[0]:`${v[0]}0`:"00";let S=g<=3||c.attackName.includes("Cluster")?"Unknown":`${y}'${f}"${v}`;const B=[`${~~c.rawNon} / ${~~c.rawCrit}`],I=[`${~~c.eleNon} / ${~~c.eleCrit}`],b=[`${~~m} / ${~~u}`],x=[c.attackName,B,I,b,d,"Infinity%"===e.shotsPerGain||"NaN%"===e.shotsPerGain||"0.00%"===e.shotsPerGain?"No Gain":e.shotsPerGain,/(\d{2},\d{3})/.test(p)?"N/A":p.toLocaleString(),S];t.push(x);const k=[c.attackName,c.rawMV,e.reloadSpeed||"N/A",e.recoilSpeed||"N/A",e.clipSize?e.clipSize:"N/A",c.ticsPer,e.shotsPerMinBase||"N/A",e.shotsPerMin||"N/A"];if(n.push(k),o){let e=c.stats.PRM;1===(0,a.AN)("CriticalFirePower")&&(e/=1.3),(0,a.Ly)("NormalRapidUp")&&(e/=E.NormalRapidUp[(0,a.Ly)("NormalRapidUp")].PRM);F([["Base",~~c.baseRaw,~~(.1+22*(1+c.raw/100))],["eTrue",~~c.raw,~~(.1+(22*c.stats.BEM+c.stats.BE)*(1+c.raw/100))],["Effective",~~(.1+c.raw*D(c.stats.aff,c.Crit).EFR*e),~~(.1+(22*c.stats.BEM+c.stats.BE)*(1+c.raw/100)*c.stats.PEM*O(c.stats.aff,c.Crit).EFE)],["True",~~(.1+c.raw*D(c.stats.aff,c.Crit).PRM*e),~~(.1+(22*c.stats.BEM+c.stats.BE)*(1+c.raw/100)*c.stats.PEM*O(c.stats.aff,c.Crit).PEM)],["Critical"].concat(Number(D(c.stats.aff).EFR).toFixed(3),Number(O(c.stats.aff).EFE).toFixed(2)),["Affinity",~~(100*c.stats.aff)]],"ammo"),o=!1}}}t.splice(0,0,["Ammo Type","Raw","Element",["Total","Combined Damage For a Single Tick"],["Effective","Calculates Every Tick Using EFE/EFR.\nMax Ticks Are Based On The Monster's Minimum \nLarge Gold Crown Size At Optimal FPS/Proc Rate.\nAdjust The Pierce Damage Adjust To Account For It Hitting Other Hit Zones."],["RPM Gain","The Percentage Increase Of Damage From Both \nAmmo Up And Spare Shot In 60 seconds."],["Shots To Kill","Use the Pierce Damage Adjust For Accurate Results"],["Time To Kill","Can Have Variance Due To FPS However\nThe Percent Difference Will Stay Constant\nThis Is The DPS Uptime To Kill Not A Quest Completion"]]),(0,l.W)(t,"dps"),n.splice(0,0,["Ammo Type","Raw MV","Reload","Recoil","Clip Size",["Procs Per","Maximum Ticks Per Shot Using Optimal FPS, \nAs Well As The Monsters Minimum Large Gold Crown Size"],["RPM Base","Shots Per Minute Including Recoil Down And Reload Speed"],["Current RPM","Shots Per Minute With AmmoUp And Spare Shot"]]),(0,l.W)(n,"ammo")}():function(){const e=performance.now();let t=[0,0,0,0,0,0,0,0];const n=(0,m.U)(),o=Object.values({...(0,u.X)()}).map((e=>j((0,h.S)({...e,...n}))));/Inputs|inputButton/.test(window.event?.target?.className)&&(!function(){if(!document.getElementsByClassName("inputs")?.length)return;y||(y=[]);if(Number.isNaN(+window.event?.target?.id)||"0"===window.event?.target?.id)return;let e=document.querySelectorAll(".inputs")[window.event?.target?.id].value-B(window.event?.target?.id);for(;e>0;)y.push(window.event.target.id),--e;for(;e<0;)y.splice(y.lastIndexOf(window?.event?.target.id),1),++e}(),T());const s="Bow"===S()?(0,g.U_)(y)[1]:(0,g.yq)(y,o[0].stats.aff);t=function(e,t,n){const o=Object.entries(e).filter((e=>e[1].length>0));let l=new Set(y);return o.forEach((e=>{for(let o of l){let l=B(o,e[1]);if(!l)continue;let s=t[o],{PRM:r,PEM:i}=s.noSharpMod?{PRM:1,PEM:1}:E.Sharpness[U(e[0])];(0,a.iH)(s)&&(i=1),n=[n[0]+=~~(s.rawMV*l),n[1]+=~~(s.rawNon*r)*l,n[2]+=~~(s.rawCrit*r)*l,n[3]+=~~(s.eleNon*i)*l,n[4]+=~~(s.eleCrit*i)*l,n[5]+=~~(s.rawNon*r)*l+~~(s.eleNon*i)*l,n[6]+=~~(s.rawCrit*r)*l+~~(s.eleCrit*i)*l,n[7]+=~~(s.efr*r)*l+~~(s.efe*i)*l]}})),n}(s,o,t);let r="";for(let e of Object.values(document.getElementsByClassName("sharpness")))e.textContent&&(r=e.id);r=E.Sharpness[U(r)];let i=o.map((e=>{let t="Bow"===S()||e.noSharpMod?{PRM:1,PEM:1}:r;(0,a.iH)(e)&&(t.PEM=1);const n=~~(e.rawNon*t.PRM),o=~~(e.eleNon*t.PEM),l=n+o,s=~~(e.rawCrit*t.PRM),i=~~(e.eleCrit*t.PEM),c=s+i,d=(~~(e.efe*t.PEM)+~~(e.efr*t.PRM))*(e.ticsPer+1);return["inputElementHere",e.attackName,e.rawMV.toFixed(1),`${n.toLocaleString()} / ${s.toLocaleString()}`,`${o.toLocaleString()} / ${i.toLocaleString()}`,`${l.toLocaleString()} / ${c.toLocaleString()}`,d.toLocaleString()]})),c="Bow"===S()||o[0].noSharpMod?{PRM:1,PEM:1}:r;(0,a.iH)(o[0])&&(c.PEM=1);const d="None"===o[0].eleType||"Heal"===o[0].eleType?0:o[0].ele;F([["Base",~~o[0].baseRaw,o[0].baseEle],["eTrue",~~o[0].raw,~~d],["True",~~(.1+o[0].raw*D(o[0].stats.aff,o[0].Crit).PRM*c.PRM),~~(.1+o[0].ele*O(o[0].stats.aff,o[0].Crit).PEM*c.PEM)],["Effective",~~(.1+o[0].raw*D(o[0].stats.aff,o[0].Crit).EFR*c.PRM),~~(.1+o[0].ele*O(o[0].stats.aff,o[0].Crit).EFE*c.PEM)],["Critical",Number(D(o[0].stats.aff).EFR).toFixed(3),Number(O(o[0].stats.aff).EFE).toFixed(2)],["Sharp",c.PRM,c.PEM],["Affinity",~~(100*o[0].stats.aff)]],o[0].eleType);i=[["Combo","Attack Name","MV","Raw","Element","Total","Effective"]].concat(i),"Gunlance"===S()?function(e,t,n){const o=new RegExp(`${(0,m.U)().shellingType} Lv${(0,m.U)().shellingLevel}`);let s=1,r=1;Object.entries(function(e=S()){return{...w[e].attacks}}()).forEach(((l,i)=>{if(!o.test(l[0]))return;s=~~(l[1].rawMV*E.Bombardier[(0,a.AN)("Bombardier")][0]*E.Artillery[(0,a.Ly)("Artillery")].BRM),r=~~(l[1].rawMV*E.Bombardier[(0,a.AN)("Bombardier")][1]*E.Artillery[(0,a.Ly)("Artillery")].BRM);const c=["inputElementHere",l[0],0,`${s}/${s}`,`${l[1].baseEle}/${l[1].baseEle}`,`${(s+l[1].baseEle)*(l[1].ticsPer+1)}/${(s+l[1].baseEle)*(l[1].ticsPer+1)}`,r,l[1].baseEle,(r+l[1].baseEle)*(l[1].ticsPer+1)];e.push(c),t[0]+=0,t[1]+=s*B(i+27),t[2]+=s*B(i+27),t[3]+=l[1].baseEle*B(i+27),t[4]+=l[1].baseEle*B(i+27),t[5]+=(s+l[1].baseEle)*(n.ticsPer+1)*B(i+27),t[6]+=(s+l[1].baseEle)*(n.ticsPer+1)*B(i+27),t[7]+=(r+l[1].baseEle)*(n.ticsPer+1)*B(i+27)})),/inputs|inputButton/.test(window?.event?.target.className)||("Bow"===S()&&(0,a.yh)("previousWeapon")!==v.value&&(y=[],T()),(0,l.W)(e,"dps"));document.getElementById("c0").innerHTML=`${t[0].toLocaleString()}`,document.getElementById("d0").innerHTML=`${t[1].toLocaleString()}/${t[2].toLocaleString()}`,document.getElementById("e0").innerHTML=`${t[3].toLocaleString()}/${t[4].toLocaleString()}`,document.getElementById("f0").innerHTML=`${t[5].toLocaleString()}/${t[6].toLocaleString()}`,document.getElementById("g0").innerHTML=`${t[7].toLocaleString()}`}(i,t,o):(i.splice(1,1,["inputElementHere","Combo Damage",`${t[0].toLocaleString()}`,`${t[1].toLocaleString()} / ${t[2].toLocaleString()}`,`${t[3].toLocaleString()} / ${t[4].toLocaleString()}`,`${t[5].toLocaleString()} / ${t[6].toLocaleString()}`,`${t[7].toLocaleString()}`]),(0,l.W)(i,"dps"));window.location.href.includes("github")||console.log((performance.now()-e)/1e3)}(),(0,o.AB)()}function T(){if(!y)return;let e;document.querySelectorAll("li.comboHits").forEach((e=>e.remove())),y.forEach((t=>{e=document.createElement("li"),e.className=`${t} comboHits`,e.setAttribute("draggable","true"),e.textContent=document.querySelector(`td#b${[t]}>output`).textContent,document.getElementById("comboCountDisplay").append(e)}))}function O(e,t=!0){return t?{PEM:+E.CriticalElement[(0,a.Ly)("CriticalElement")].PEM,EFE:1+(E.CriticalElement[(0,a.Ly)("CriticalElement")].PEM-1)*e}:{PEM:1,EFE:1}}function D(e,t=!0){return t?{PRM:+E.CriticalBoost[(0,a.Ly)("CriticalBoost")].PRM,EFR:1+(E.CriticalBoost[(0,a.Ly)("CriticalBoost")].PRM-1)*e}:{PRM:1,EFR:1}}function j(e){return Object.keys(window.selectedSkills)?.length?(e.Raw?(e.raw=Math.min(~~(~~(~~e.baseRaw*e.stats.BRM+e.stats.BR+.1)*(document.getElementById("HuntingHornAttack").checked?1.1:1)),2600),window.selectedSkills.PunishingDraw&&(e.raw+=E.PunishingDraw[window.selectedSkills.PunishingDraw].BR),e.rawFormula=e.raw/100*e.stats.PRM*(0,a.j8)((0,a.zO)(e.type))*e.rawMV/100,e.rawNon=~~Math.max(1,.1+e.rawFormula),e.efr=~~Math.max(1,.1+e.rawFormula*D(e.stats.aff,e.Crit).EFR),e.rawCrit=~~Math.max(1,.1+e.rawFormula*(e.stats.highestRaw||1)*D(e.stats.aff,e.Crit).PRM)):[e.raw,e.rawNon,e.efr,e.rawCrit]=[0,0,0,0],e.NoEleBuff?[e.ele,e.eleNon,e.efe,e.eleCrit]=[e.baseEle,e.baseEle,e.baseEle,e.baseEle]:e.Ele&&"None"!==e.eleType?(e.eleAmmo=/BowGun/.test(S())&&"None"!==e.eleType?1+e.raw/100:1,e.ele=Math.min(~~(.1+e.baseEle*e.stats.BEM+e.stats.BE),560),e.eleFormula=e.ele*e.stats.PEM*((0,a.uT)((0,a.zO)(e.eleType))/100)*e.eleAmmo*e.eleMV,e.eleNon=~~Math.max(1,e.eleFormula>0&&e.eleFormula<1?1:~~e.eleFormula),e.efe=~~Math.max(1,.1+e.eleFormula*O(e.stats.aff,e.Crit).EFE),e.eleCrit=~~Math.max(1,.1+e.eleFormula*O(e.stats.aff,e.Crit).PEM)):[e.ele,e.eleNon,e.efe,e.eleCrit]=[0,0,0,0],{...e}):e}function F(e,t){let n=document.querySelectorAll(".statsEle");n[0].src.includes((0,a.zO)(t))||Object.values(n).forEach((e=>e.src=`./icons/${(0,a.zO)(t)}.webp`)),e.forEach((e=>{Object.values(document.querySelectorAll(`#stats${e[0]} span`)).forEach(((t,n)=>t.textContent=e[n+1]))}))}function K(e){for(let t of document.getElementById("BowgunBarrel").options)t.disabled=!t.classList.contains(e),t.classList.toggle("augInvis",!t.classList.contains(e))}function H(e=S()){if(w?.skills){for(const e of Object.keys(w.augIndex)){const t=document.querySelector(`output.${e}`);t.textContent=0,t.nextElementSibling.textContent="+0",w.augIndex[e]=0}switch(e.includes("Bow")&&(0,a.sM)("Sharpness",0),document.getElementsByClassName("inputs").length>0&&W(),e){case"DualBlades":E.Burst=E.BurstDualBlades;break;case"Bow":E.Burst=E.BurstBow;break;case"LightBowGun":K("LightBowGun"),E.Burst=E.BurstBowGun;break;case"HeavyBowGun":K("HeavyBowGun"),E.Burst=E.BurstBowGun;break;default:E.Burst=E.BurstStandard}E.Bombardier=/Gun|Charge/.test(e)?E.BombardierSource[e]:[],document.querySelectorAll(`.classSpecific:not(.${e})`).forEach((e=>{e.selectedIndex=0})),document.querySelectorAll(".classSpecific").forEach((t=>{t.classList.remove("augInvis"),t.parentElement.classList.remove("augInvis"),t.classList.contains(e)?"BUTTON"===t.tagName||"DIV"===t.tagName?t.classList.remove("augInvis"):t.parentElement.classList.remove("augInvis"):"BUTTON"===t.tagName||"DIV"===t.tagName?t.classList.add("augInvis"):t.parentElement.classList.add("augInvis")})),"ChargeBlade"===e&&function(){const e=(0,m.U)().phialType,t=document.getElementById("ImpactShieldCharge").parentNode,n=document.getElementById("EleShieldCharge").parentNode,o="Impact Phial"===e,l=o?"EleShieldCharge":"ImpactShieldCharge";t.classList.toggle("augInvis",!o),n.classList.toggle("augInvis",o),(0,a.sM)(l,0)}()}}function W(){document.getElementsByClassName("inputs").length&&(/BowGun/.test((0,a.yh)("previousWeaponType"))||""===(0,a.yh)("previousWeaponType")||(document.querySelectorAll(".comboHits").forEach((e=>e.remove())),document.querySelectorAll("#dpsBody>tr:nth-child(1)>td:nth-child(n+3)").forEach((e=>e.value=0)),document.querySelectorAll(".inputs").forEach((e=>e.value=0)),document.querySelectorAll(".inputComboRepeat").forEach((e=>e.value=1)),y=[]))}function U(e,t=0){return e[t].toUpperCase()+e.slice(1)}function G(e,t=0,n=window.event?.target){if("Select"===e||null!==document.getElementById(`${e}Select`)||"Select Skills For Set Builder"===n?.value)return;const o=document.createElement("div");o.id=`${e}Select`,o.innerHTML=`\n      <label class="label ${e} skillInput animate-fade-in">${e}</label>\n      <output class="skillInput ${e}" max="${w.types.maxLevel[e]}" min="0">Lv-${t}</output>\n      <button type="button" aria-pressed="false" id="${e}Dec" class="skillInput ${e} dec animate-fade-in" data-tooltip="Decrease Skill Level">&#8681;</button>\n      <button type="button" aria-pressed="false" id="${e}Inc" class="skillInput ${e} inc animate-fade-in" data-tooltip="Increase Skill Level">&#8679;</button>`;const l=document.getElementById("searcherSkills"),a=Array.from(l.children),s=a.findIndex((t=>t.id.localeCompare(`${e}Select`)>0));-1===s?l.appendChild(o):l.insertBefore(o,a[s])}function V(e){return Object.values(document.querySelectorAll(e)).map((e=>e.selectedIndex))}function z(e,t){performance.now()-window.saveDebouncer<1e3||(window.saveDebouncer=performance.now(),e[0].src=`./icons/${document.getElementById("dropWeaponType").options[t.weapon[0]].text}.webp`,e[1].textContent=t.display[0],e[2].src=`./icons/${t.display[1]}`,e[3].textContent=t.display[2])}function Q(){let e=localStorage.getItem("index")||0,t={weapon:V(k),armor:V(L),augmentType:V(C),augment:V(".augment"),monster:[(0,a.yh)("dropMonster2"),document.getElementById("dropMonster2").selectedOptions[0].textContent,(0,a.AN)("dropHZV2")],remainingSelects:V(M),charmLimiters:V(A),checkBoxes:(n=P,Object.values(document.querySelectorAll(n)).map((e=>e.checked?1:0))),setSearch:Object.values(document.querySelectorAll("#skillSelect label")).map((e=>[w.skillIds[e.textContent],+e.nextElementSibling.textContent.slice(-1)])),display:[$[1].textContent,R.src.match(/\w+\.webp$/)[0],$[2].textContent]};var n;localStorage.setItem(e,JSON.stringify(t)),z(document.querySelectorAll(`#saveState${e} ~ *`),t)}function Z(e=0){let t=localStorage.getItem("index");document.getElementById(`saveState${t}`).textContent="Equip Build",document.getElementById(`saveState${e}`).textContent="Current Build",localStorage.setItem("index",e);const n=JSON.parse(localStorage.getItem(e)||"[]");if(Array.isArray(n))return;(0,c.Dw)(n.monster[0]),(0,a.sM)("dropHZV2",n.monster[1]),(0,a.sM)("dropWeaponType",n.weapon[0]);let l="";w[(0,a.yh)("dropWeaponType")].weapons.forEach(((e,t)=>{10===e.rank&&(l+=`<option value="${t}">${e.weapon}</option>`)})),document.getElementById("dropWeapon").innerHTML=l,(0,a.sM)("dropWeapon",n.weapon[1]);let s=document.querySelector("#weapon > img");s.src=s.src.replace(/(\w+)\.webp$/,`${(0,a.yh)("dropWeaponType")}.webp`),H((0,a.yh)("dropWeaponType")),(0,p.E)(),(0,a.p8)((0,a.yh)("dropWeaponType")),document.querySelectorAll(A).forEach(((e,t)=>{e.selectedIndex=n.charmLimiters[t]})),Object.values(document.querySelectorAll(L)).forEach(((e,t)=>{e.selectedIndex=n.armor[t],(0,o.M9)(e.id)})),document.querySelectorAll(C).forEach(((e,t)=>{e.selectedIndex=n.augmentType[t],(0,o.jA)(e),e.nextElementSibling.selectedIndex=n.augment[t]})),(0,a.VW)().forEach((e=>(0,o.sC)(e))),document.querySelectorAll(M).forEach(((e,t)=>{e.selectedIndex=n.remainingSelects[t]})),document.querySelectorAll(P).forEach(((e,t)=>{e.checked=n.checkBoxes[t]})),n.setSearch.forEach((e=>G(w.skillIds[e[0]],e[1]))),(0,o.to)(),(0,d.f)(),q()}document.querySelectorAll(`#${v.id}, #${a.aP.id}`).forEach((e=>{e.addEventListener("change",(()=>{if("Bow"!==S())return;document.querySelectorAll("#BowCoating>option").forEach((e=>e.remove()));const e=[];(0,m.U)().coatings.forEach((t=>{const n=document.createElement("option");n.textContent=t,document.getElementById("BowCoating").append(n),e.push(E[t])})),E.BowCoating=e}))})),document.getElementById("dropSkills")?.addEventListener("change",(e=>{G(e?.target.value,w.types.maxLevel[e.target.value])})),window.saveDebouncer=0,document.body.addEventListener("change",(()=>{performance.now()>5e3&&Q()})),document.body.addEventListener("click",(()=>{performance.now()>5e3&&Q()})),Object.values(document.querySelectorAll(".load")).forEach((e=>e.addEventListener("click",(e=>{Z(e.target.id.slice(-1))}))))},618:(e,t,n)=>{n.d(t,{W:()=>a});var o=n(923);const l=document.getElementById("dropWeapon");function a(e,t){const n=(0,o.yh)("dropWeaponType").includes("BowGun"),a=!document.getElementById("ammoTable").classList.contains("augInvis")&&n,s=document.getElementById("dpsTable").classList.contains("augInvis")||!n,r=Object.values(document.querySelectorAll("#dpsTable tr.tableRowMelee")).map((e=>e.children));let i="ChargeBlade"!==o.aP.value||window.thisKey.ChargeBlade.weapons[(0,o.yh)("previousWeapon")]?.phialType===window.thisKey.ChargeBlade.weapons[(0,o.yh)("dropWeapon")].phialType;if(r.length&&(0,o.yh)("previousWeaponType")===o.aP.value&&i&&((0,o.yh)("previousWeapon")===l.value||"Bow"!==o.aP.value)&&"BowChargePlus"!==window.event.target.id)!function(e,t,n){let o=n?1:2;for(let n=0;n<t.length;++n)for(let l=o;l<t[n].length;l++)t[n][l].textContent=e[n+1][l]}(e,r,n);else{const r=document.querySelector(`#${t}Head`),i=document.querySelector(`#${t}Body`),c=document.createElement("thead");c.className=n?"tableRowRanged":"tableRowMelee",c.id=`${t}Head`;const d=document.createElement("tr"),u=document.createElement("tbody");u.id=`${t}Body`;e.splice(0,1)[0].forEach((e=>{const t=document.createElement("th");let n;Array.isArray(e)?(n=document.createTextNode(e[0]),t.dataset.tooltip=e[1]):n=document.createTextNode(e),t.appendChild(n),d.appendChild(t)})),c.appendChild(d),r.replaceWith(c);let m=0;for(const t of e){const e=document.createElement("tr");e.className=n?"tableRowRanged":"tableRowMelee";for(let o=0;o<Object.values(t).length;o++){const l=Object.values(t)[o];let a=document.createElement("td");if(n||o>1){const e=document.createTextNode(l);a.appendChild(e)}else if(o)a.innerHTML=`<button type="button" aria-pressed="false" id="${m}" class="inputButton dec"\n                      >&#8681</button><button type="button" aria-pressed="false" id="${m}" class="inputButton inc"\n                      >&#8679</button><output class="label">${l}</output>`,a.id=`b${m}`,a.className=`b ${m} inputContainer`;else{const e=document.createElement("input");e.type="Number",e.max="20",e.ariaLabel=m?"Add Skill To Combo":"Combo Repeat All",e.className=0===m?`inputComboRepeat a ${m} inputs`:`hitsOfSharpInputs a ${m} inputs`,e.min=m?"0":"1",e.value=m?"0":"1",a.appendChild(e),a.className=`a ${m}`}e.appendChild(a)}u.appendChild(e),m++}i.replaceWith(u),u.className=n?"rangedTable":"meleeTable",document.getElementById("damageContainer").className=n?"rangedContainer":"meleeContainer",document.getElementById("ammoTable").classList.toggle("augInvis",a),document.getElementById("dpsTable").classList.toggle("augInvis",!s),n||document.getElementById("ammoTable").classList.add("augInvis"),(0,o.wP)("previousWeapon",l.value),(0,o.wP)("previousWeaponType",o.aP.value)}n||document.querySelectorAll(".inputs").forEach((e=>{const t=document.getElementById("filterTable").classList.contains("selected")&&0==e.value;e.parentElement.parentElement.classList.toggle("augInvis",t)}))}},227:(e,t,n)=>{n.d(t,{Dw:()=>m,Gt:()=>f,Jt:()=>p,QP:()=>i,X0:()=>y,dm:()=>w,l7:()=>c,lc:()=>h,pb:()=>g});var o=n(923),l=n(243);function a(){return document.getElementById("dropWeaponType").value}function s(e,t,n=e){if(!t)return;let o="";e.forEach(((e,t)=>{o+=`<option value="${n[t]}">${e}</option>`})),t.innerHTML=o}const r=document.getElementById("dropHZ"),i=document.getElementById("dropMonster"),c=document.getElementById("dropQuest");function d(){return window.thisKey.quest[c.value]}function u(){let e="",t=d(),n=window.thisKey.monster[document.getElementById("dropMonster2").value];t&&t.mons[n.em_type.Em]||(y(n.em_type.Em),t=d()),t&&(n.spawn.map[t.map].zone[t.mons[n.em_type.Em][0]].forEach((t=>{e+=`<output>Spawn Area ${t.block} ${t.lot}%</output>`})),document.getElementById("spawnArea").innerHTML=e)}function m(e){performance.now()-window.thisKey.time.quest<100||(e=window.thisKey.monster[e],window.thisKey.time.quest=performance.now(),h(e.name),y(e.em_type.Em),f(e.em_type.Em),p())}function p(){if(u(),""===c.value)return;const e=["Hit Zone","sever","blunt","shot","fire","water","thunder","ice","dragon"];let t=document.createDocumentFragment();const n=document.createElement("table");t.append(n);const l=document.querySelector("#monTable"),a=window.thisKey.monster[i.value].parts,s=document.createElement("tr");e.forEach(((e,t)=>{s.innerHTML+=t?`<th class="${e}"></th>`:`<th>${e}</th>`})),n.appendChild(s),a.forEach((t=>{const l=document.createElement("tr");for(let n=0;n<9;++n){let a=0===n?`${t.part} ${t.state}`:t[(0,o.zO)(e[n])];const s=document.createElement("td");0!==n&&(a=document.getElementById("WaterBlight").checked&&n<4?Math.min(100,~~(Math.max(a,.63*a+22.2)+3)):+a,+a<14?s.setAttribute("class","F"):+a<15?s.setAttribute("class","C"):+a<45?s.setAttribute("class","B"):+a<65?s.setAttribute("class","A"):+a>=65&&s.setAttribute("class","S"),a=~~a);const r=document.createTextNode(a);s.appendChild(r),l.appendChild(s)}n.appendChild(l)})),n.setAttribute("id","monTable"),l.replaceWith(t)}function g(){s(Object.keys(window.thisKey.monster).sort(),i),s(Object.keys(window.thisKey.monster).sort(),document.getElementById("dropMonster2")),(0,o.sM)("dropMonster2",72)}function h(e){const t=/Bow/.test(a())?"shot":"H"===a()[0]?"blunt":"sever",{eleType:n}=(0,l.U)(),o=window.thisKey.monster[e].parts.sort(((e,o)=>o[t]===e[t]&&n?o[n]-e[n]:o[t]-e[t]));let s="";o.forEach((e=>{let t=`${e.part} ${e.state}`.trim();s+=`<option value="${t}">${t}</option>`})),r.innerHTML=s,document.getElementById("dropHZV2").innerHTML=s}function y(e){+e>=0||(e=window.util.monHash[e]);let t={HR:"",MR:""},n=document.getElementById("HR"),o=document.getElementById("MR"),l=!0;for(let n=0;n<window.thisKey.quest.length;n++){let o=window.thisKey.quest[n];o.mons[e]&&(l=!1,t[o.rank]+=`<option value="${n}">${o.quest}</option>`)}l||(o.innerHTML=t.MR,n.innerHTML=t.HR,w(o.childElementCount?o.options[0]:n.options[0]),o.classList.toggle("augInvis",o.childElementCount),n.classList.toggle("augInvis",n.childElementCount))}function f(e){if(+e>=0||(e=window.util.monHash[e]),"undefined"===c.value)return;let t=(0,o.AN)("players"),n=Math.min(2,1+.35*t);c.value||y(e);let l=window.thisKey.quest[c.value].mons[e];const a=[];for(let e=1;e<l.length;e++)a[e-1]=l[e]*n;s(a,document.getElementById("health"))}function w(e){document.getElementById("dropQuest").children[0].value=e.value,document.getElementById("dropQuest").children[0].textContent=e.textContent,document.getElementById("questDiv")?.classList.add("augInvis")}},21:(e,t,n)=>{var o=n(16),l=n(466),a=n(227),s=n(721);const r=document.getElementById("dropMonster2"),i=document.getElementById("dropHZ"),c=document.getElementById("dropWeapon"),d=document.getElementById("dropWeaponType");function u(){const e=document.getElementById("weaponFilter").classList.contains("blue");let t="";window.thisKey[d.value]?.weapons.forEach(((n,o)=>{e&&n.rank<10||(t+=`<option value="${o}">${n.weapon}</option>`)})),c.innerHTML=t}d.addEventListener("change",(()=>{u(),document.querySelector("#weapon > img").src=document.querySelector("#weapon > img").src.replace(/(?<=icons\/)\w+/,d.value),(0,l.rA)(),(0,s.E)(),(0,a.Jt)()})),c.addEventListener("change",(()=>(0,s.E)())),document.querySelectorAll("select.menu").forEach((e=>e.addEventListener("change",(e=>{(0,a.dm)(e.target.selectedOptions[0]),(0,a.Jt)();const t=e.target===a.QP?a.QP.value:r.value;(0,a.Gt)(t)})))),document.getElementById("players")?.addEventListener("change",(()=>(0,a.Gt)(r.value))),a.l7.addEventListener("change",(()=>{(0,a.Jt)(),(0,a.Gt)(r.value)})),document.querySelectorAll("select.demon").forEach((e=>e.addEventListener("change",(e=>{document.querySelectorAll(`.demon:not(#${e?.target.id})`).forEach((e=>e.selectedIndex=0))})))),document.querySelectorAll(`#${c.id}, #${d.id}`).forEach((e=>{e.addEventListener("change",(e=>{e.target!==d&&"ChargeBlade"!==d.value||(0,l.rA)()}))})),Object.values(document.getElementsByClassName("dropMons")).forEach((e=>{e.addEventListener("change",(e=>{(e.target.id===a.QP.id?a.QP:document.getElementById("dropMonster2")).selectedIndex=e.target.selectedIndex,e.stopPropagation(),(0,a.Dw)(e.target.value),(0,l.TG)()}))})),document.addEventListener("mousedown",(e=>{if(e.target.classList.contains("scroll")){const t=e.target.classList.contains("Blue");document.getElementById("blueNon").classList.toggle("augInvis",t),document.getElementById("blueScroll").classList.toggle("augInvis",!t),document.getElementById("redNon").classList.toggle("augInvis",!t),document.getElementById("redScroll").classList.toggle("augInvis",t);const n=t?"blue":"red";window.thisKey.skills.MailofHellfire=window.thisKey.skills.MailofHellfireSource[n],window.thisKey.skills.Dereliction=window.thisKey.skills.DerelictionSource[n],(0,l.TG)()}})),document.getElementById("boxes").addEventListener("mousedown",(e=>{const t="LABEL"===e.target.tagName?e.target.children[0]:e.target;if(/DemonDrug/i.test(t.id)&&("DemonDrug"===t.id?document.getElementById("MegaDemonDrug").checked=!1:document.getElementById("DemonDrug").checked=!1),"WaterBlight"!==t.id)return;const n=i.selectedIndex;(0,a.Jt)(),i.selectedIndex=n})),Object.values(document.querySelectorAll(".augment")).forEach((e=>{e.addEventListener("change",(e=>{(0,o.Ud)(e.target,e.target.selectedOptions[0].textContent),(0,o.YV)(e.target)})),e.addEventListener("mousedown",(e=>{(0,o.Ud)(e.target,e.target.selectedOptions[0]?.textContent),(0,o.YV)(e.target)}))})),document.querySelectorAll("section.armorDisplay").forEach((e=>{e.id.includes("weaponRampage")||e.addEventListener("change",(e=>{"SELECT"===e.target.tagName&&(0,o.to)()}))}));for(let e of Object.values(document.querySelectorAll("#resistances select")))e.addEventListener("change",(()=>(0,o.AB)()));const m=new Set(["DefenseBoost","Dragonheart","DragonConversion","Furious"]);document.querySelector("#weaponSelects>#Qurious")?.addEventListener("mousedown",(()=>{document.getElementById("augToggle").classList.remove("augInvis")})),document.querySelectorAll(".charmSlot, #charm>select").forEach((e=>e.addEventListener("change",(e=>{const t=document.getElementById("slot1").selectedIndex;t>2&&(document.getElementById("slot3").selectedIndex=1),t%2||(document.getElementById("slot2").selectedIndex=Math.min(document.getElementById("slot2").selectedIndex,4===t?1:2));const n=document.getElementById("charmSkill1"),l=document.getElementById("charmSkill2");n.selectedOptions[0].textContent.slice(0,-3)===l.selectedOptions[0].textContent.slice(0,-3)&&(l.selectedIndex=0),(0,o.uQ)("charm",Object.values(document.querySelectorAll("#charmSlots .charmSlot")).map((e=>e.selectedIndex)))})))),document.getElementById("weaponFilter").addEventListener("click",(e=>{e.target.classList.toggle("blue"),e.target.classList.toggle("gray"),u()})),document.querySelectorAll("#weaponFilter,button.rampageAug").forEach((e=>e.addEventListener("click",(()=>{(0,s.E)()})))),document.querySelector("#EquippedSkillDisplay").addEventListener("mouseover",(e=>{if(!window.thisKey?.descriptions)return;let[t,n]=e.target.textContent.replace(/[\s\n\t]/g,"").split(":");n&&window.thisKey.descriptions[t]&&(e.target.dataset.tooltip=window.thisKey.descriptions[t][n-1])})),document.getElementById("searcherSkills").addEventListener("mouseover",(e=>{"OUTPUT"===e.target.tagName&&e.target.classList[1]&&window.thisKey.descriptions[e.target.classList[1]]&&(e.target.dataset.tooltip=window.thisKey.descriptions[e.target.classList[1]].join("\n"))})),document.querySelector(".extraSkills").addEventListener("mouseover",(e=>{"BUTTON"===e.target.tagName&&window.thisKey.descriptions[e.target.textContent.replace(/\s/g,"").slice(0,-2)]&&(e.target.dataset.tooltip=window.thisKey.descriptions[e.target.textContent.replace(/\s/g,"").slice(0,-2)].join("\n"))})),document.getElementById("dpsTable").addEventListener("input",(e=>{if(!e.target.classList.contains("inputs"))return;let t="inputComboRepeat"===e.target.id?1:0,n=~~+e.target.value;n>20&&(e.target.value=20),n<t&&(e.target.value=t)})),document.getElementById("dpsTable").addEventListener("mousedown",(e=>{e.target.classList.contains("inputButton")&&(e.target?.classList.contains("dec")?function(e){("0"===e?.target.id&&Number(document.querySelectorAll(".inputs")[e?.target.id].value)>1||Number(e?.target.id)>0&&Number(document.querySelectorAll(".inputs")[e?.target.id].value)>0)&&--document.querySelectorAll(".inputs")[e?.target.id].value}(e):function(e){Number(document.querySelectorAll(".inputs")[e?.target.id].value)<20&&++document.querySelectorAll(".inputs")[e?.target.id].value}(e),document.getElementById("comboCountContainer")?.classList.remove("augInvis"))})),Object.values(document.querySelectorAll(".close")).forEach((e=>e.addEventListener("click",(e=>{e.target.parentElement.parentElement.classList.add("augInvis")})))),document.getElementById("settingsMenuButton").addEventListener("click",(e=>{e.target.textContent.includes("Open")?e.target.textContent="Close Settings":e.target.textContent="Open Settings",document.getElementById("settingsMenu").classList.toggle("augInvis"),Object.values(document.querySelectorAll("#title,h2")).forEach((e=>e.style.opacity=.2==e.style.opacity?1:.2)),e.target.classList.toggle("selected")})),document.getElementById("skillsMenu").addEventListener("mousedown",(()=>{document.getElementById("skillSettings").classList.remove("augInvis"),document.getElementById("monsterSettings").classList.add("augInvis"),Object.values(document.getElementsByClassName("infoSettings")).forEach((e=>e.classList.add("augInvis")))})),document.getElementById("monsterMenu").addEventListener("mousedown",(()=>{document.getElementById("skillSettings").classList.add("augInvis"),document.getElementById("monsterSettings").classList.remove("augInvis"),Object.values(document.getElementsByClassName("infoSettings")).forEach((e=>e.classList.add("augInvis")))})),document.getElementById("infoMenu").addEventListener("mousedown",(()=>{document.getElementById("skillSettings").classList.add("augInvis"),document.getElementById("monsterSettings").classList.add("augInvis"),Object.values(document.getElementsByClassName("infoSettings")).forEach((e=>e.classList.remove("augInvis")))})),document.querySelector("#questButton").addEventListener("mousedown",(()=>function(){document.querySelectorAll(".menu").forEach((e=>e.classList.remove("augInvis")));const e=document.querySelectorAll("#MR>option").length>0;document.getElementById("MR").parentElement.classList.toggle("augInvis",!e);const t=document.querySelectorAll("#HR>option").length>0;document.getElementById("HR").parentElement.classList.toggle("augInvis",!t)}())),document.querySelector(".extraSkills").addEventListener("mousedown",(e=>{if("BUTTON"===e.target.tagName&&!e.target?.classList[0]){let[t,n]=e.target.textContent.split(" +");t=t.replace(/\s/g,"");const o=document.querySelector(`output.${t}`);o?o.textContent=`Lv-${Math.min(window.thisKey.types.maxLevel[t]||window.thisKey.skills[t].length-1,o.textContent.slice(-1)+ +n)}`:(0,l.Nb)(t,n),e.target.remove()}})),document.getElementById("skillSelect").addEventListener("mousedown",(e=>{if("skillInput"!==e.target.classList[0])return;const t=e.target.classList[1];let n=+document.querySelector(`output.${t}`).textContent.slice(-1);"BUTTON"===e.target.tagName&&("dec"===e.target.classList[2]?0===n?e.target.parentElement.remove():document.querySelector(`output.${t}`).textContent="Lv-"+(n-1):"inc"===e.target.classList[2]&&(document.querySelector(`output.${t}`).textContent=`Lv-${Math.min(window.thisKey.types.maxLevel[t],n+1)}`))})),document.getElementsByClassName("close"),document.querySelectorAll("section.currentPoints").forEach((e=>{e.addEventListener("mousedown",(()=>{document.querySelectorAll(".armorAugment").forEach((e=>e.classList.toggle("augInvis")))}))})),document.getElementById("resetCombo").addEventListener("click",(()=>(0,l.hB)())),document.getElementById("resetSkills").addEventListener("click",(()=>{document.querySelectorAll("#searcherSkills>div").forEach((e=>e.remove()))})),document.getElementById("ammoChange").addEventListener("click",(()=>function(){const e=document.getElementById("dpsTable").classList.contains("augInvis");document.getElementById("dpsTable").classList.toggle("augInvis",!e),document.getElementById("ammoTable").classList.toggle("augInvis",e)}()));let p=document.querySelector("#dropMonster"),g=document.querySelector("#dropMonster2");p.addEventListener("change",(function(){p.selectedIndex!==g.selectedIndex&&(g.selectedIndex=p.selectedIndex)})),g.addEventListener("change",(function(){g.selectedIndex!==p.selectedIndex&&(p.selectedIndex=g.selectedIndex)}));let h=document.querySelector("#dropHZV2");if(i.addEventListener("change",(function(){i.selectedIndex!==h.selectedIndex&&(h.selectedIndex=i.selectedIndex)})),h.addEventListener("change",(function(){h.selectedIndex!==i.selectedIndex&&(i.selectedIndex=h.selectedIndex)})),document.addEventListener("change",(e=>{"SELECT"===e.target.tagName&&(0,l.TG)(e)})),document.body.addEventListener("click",(e=>{(/dec|inc|skill|input|scroll/.test(e.target.className)||/INPUT/.test(e.target.tagName)||"BUTTON"===e?.target.tagName&&document.getElementById("startSearch")!==e.target&&document.getElementById("extendedSearch")!==e.target)&&(0,l.TG)(e)})),!window.location.href.includes("github")){let e=0;const t=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"];document.addEventListener("keydown",(n=>{if(n.key===t[e])++e;else if(e<10)e=0;else if("Enter"===n.key){e=0;let t=document.createElement("script");t.src=".././srcfiles/konami.js",document.head.appendChild(t),e=0}}))}const y=document.getElementById("comboCountContainer");y.addEventListener("dragstart",(e=>{var t;e.dataTransfer.setData("text/plain",(t=e.target,Object.values(document.getElementById("comboCountDisplay").children).indexOf(t)))})),y.addEventListener("dragover",(e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"})),y.addEventListener("drop",((e=window.event)=>{e.preventDefault();const t=e.dataTransfer?.getData("text/plain");"comboCountDisplay"===e.target.parentElement.id&&e.target.before(Object.values(e.target.parentElement.children)[+t]),comboTracker=Object.values(document.querySelectorAll("#comboCountDisplay li")).map((e=>e.classList[0])),(0,l.TG)()})),document.getElementById("EquippedSkillDisplay").addEventListener("click",(e=>{if("BUTTON"!==e.target.tagName)return;const t=e.target.nextElementSibling.textContent.replace(/\s/g,"").split(":")[0];(t.includes("Resist")||m.has(t))&&(0,o.AB)()}))},984:(e,t,n)=>{n.d(t,{S:()=>i});var o=n(923),l=n(470);const a=new Set(["Sticky","Wyvern"]),s=new Set(["Normal","Spread","Pierce"]),r={Agitator:()=>document.getElementById("enraged").classList.contains("selected"),OffensiveGuard:()=>/^(Charge|Sword|HeavyBowGun|Lance|Great)/.test(o.aP.value),WeaknessExploit:e=>(0,o.j8)((0,o.zO)(e.type))>=45,ElementExploit:e=>(0,o.uT)((0,o.zO)(e.eleType))>=20,SneakAttack:e=>!e.NoSneak,BloodAwakening:()=>!0,Artillery:e=>"IgnoreHZV"===e.type&&/Gun$|^Charge|^Gun/.test(o.aP.value),RapidMorph:e=>/Morph|Condensed Spinning|Up Roundslash/.test(e.attackName),ChargeMaster:e=>e.ChargeMaster,MindsEye:e=>~~(25/JSON.parse((0,o.yh)("Sharpness")).PRM)>=(0,o.j8)((0,o.zO)(e.type)),PierceUp:e=>/Pierce L?v?\d/.test(e.attackName)&&/BowGun$|^Bow$/.test(o.aP.value),SpreadUp:e=>/Spread/.test(e.attackName)&&/BowGun$|^Bow$/.test(o.aP.value),NormalRapidUp:e=>/Normal|Rapid/.test(e.attackName)&&/BowGun$|^Bow$/.test(o.aP.value),SpecialAmmoBoost:e=>/Wyvern|Pierce/.test(e.attackName)&&/BowGun$|^Bow$/.test(o.aP.value),RapidFireUp:e=>/RF\+/.test(e.attackName),DragonConversion:e=>/Fire|Water|Ice|Thunder|Dragon/i.test(e.eleType)||/Fire|Water|Ice|Thunder|Dragon/i.test(e.attackName),Frostcraft(e){if(!o.aP.value.includes("BowGun"))return!0;let t=e.attackName.split(" ")[0];window.thisKey.skills.Frostcraft[t]||(t=o.aP.value);let n=window.thisKey.skills.Frostcraft[t][window.selectedSkills.Frostcraft];e.stats.PRM*=n.PRM,e.stats.PEM*=n.PEM,e.skillRecord.add("Frostcraft")},Bombardier:e=>{if("IgnoreHZV"!==e.type||"ChargeBlade"===o.aP.value&&!e.phialType.includes("Impact"))return;if("ChargeBlade"===o.aP.value&&e.phialType.includes("Impact")||"Gunlance"===o.aP.value)return!0;let t=e.attackName.slice(0,6);if(a.has(t)){if("LightBowGun"===o.aP.value)return!0;e.stats.PRM*=(0,o.HH)("Bombardier")[t].PRM,e.skillRecord.add("Bombardier")}},ChargeBlade:{SavageAxe:e=>!/3rd|(?<!Midair |Axe: )UED|(?<!Charged )Sword(?!.*Shield)/.test(e.attackName),ImpactShieldCharge:e=>"Impact Phial"===e.phialType,EleShieldCharge:e=>"Element Phial"===e.phialType},LongSword:{SpiritGauge:e=>!/Helm Breaker|Serene/.test(e.attackName),Helmbreaker:e=>/Helm Breaker/.test(e.attackName),SerenePose:e=>/Serene/.test(e.attackName)},GreatSword:{StrongarmStance(e){const t=e.attackName.match(/Charged Slash|Rising Slash|Wide Slash|Strong Charged Slash|True Charged Slash|Rage Slash/);t&&c(e,"StrongarmStance",t)},PowerSheath:()=>!0,ChargeLv(e){let t=e.attackName.match(/(?<=Lv)[1-3]/);t&&!e.attackName.includes("Tackle")&&(e.rawMV*=Number(`1.${t[0]}`),e.skillRecord.add(`ChargeLv${t[0]}`))}},Lance:{LanceCharge:()=>!0},InsectGlaive:{KinsectBuff:()=>!0},DualBlades:{ArchdemonMode:()=>!0,DemonMode:e=>!/Feral Demon Mode/.test(e.attackName),FeralDemonMode:e=>!/Demon Mode/.test(e.attackName)},SwitchAxe:{ImpactPhial:e=>{/Sword|Elemental|ED/.test(e.attackName)&&(e.stats.BRM*=1.15,e.skillRecord.add("Impact Phial"))},ElementalPhial:e=>{/Sword|Elemental|ED/.test(e.attackName)&&(e.stats.BEM*=1.45,e.skillRecord.add("Elemental Phial"))}},Bow:{BowCoating(e){e.attackName.includes("Stake")||((0,o.Sy)(e.stats,window.thisKey.skills[document.getElementById("BowCoating").selectedOptions[0].text]),e.skillRecord.add("BowCoating"))},HerculesDraw:()=>!0,UpperCrit:()=>!0,chargeLevel:()=>!0},HeavyBowGun:{chargeLevel(e){if(!/snipe|heart|Cluster/.test(e.attackName)){if(!e.NoEleBuff)return!0;e.baseRaw*=window.skillStats.ChargeLevel[document.getElementById("ChargeLevel").selectedIndex].PRM,e.skillRecord.add("ChargeLevel")}}},LightBowGun:{EvadeHop:()=>!0,FanningManeuver:()=>!0,ElementalReload:()=>!0,CriticalFirePower:e=>{let t=e.attackName.slice(0,6);s.has(t)&&("Pierce"!==t||/Pierce L?v?\d/.test(e.attackName))&&c(e,"CriticalFirePower",t)}}};function i(e,t=o.aP.value){let{specialCase:n,selectedSkills:a}=window,{types:s}=window.thisKey;n.arr=[],e.skillRecord=new Set,e.stats={BR:0,BRM:1,PRM:1,BEM:1,BE:0,PEM:1,EFE:1,EFR:1,aff:e.baseAff};let i=document.querySelector("#weaponRampage0").value;l.p[i]&&(0,o.Sy)(e.stats,l.p[i](e));let d=Object.keys(a);for(const o of d)(!r[o]&&(s[e.type].includes(o)||s[t].includes(o))||r[o]&&r[o](e))&&n.add(o,e);return(0,o.Sy)(e.stats,n.arr),document.querySelectorAll("#dango select.skill:not(.classSpecific)").forEach((n=>{n.selectedIndex>0&&!e.skillRecord.has(n.id)&&(s[e.type]?.includes(n.id)||s[t].includes(n.id))&&(!r[n.id]||r[n.id](e))&&c(e,n.id,n.selectedIndex)})),document.querySelectorAll(`select.skill.classSpecific.${t}`).forEach((n=>{!(n.selectedIndex>0)||e.skillRecord.has(n.id)||r[n.id]&&!r[n.id](e)||r[t][n.id]&&!r[t][n.id](e)||c(e,n.id,n.selectedIndex)})),document.querySelectorAll("#boxes input.skillButton").forEach((t=>{t.checked&&!e.skillRecord.has(t.id)&&(c(e,t.id),"DemonAmmo"===t.id&&/(Sever|Blunt)/.test(e.type)&&(e.stats.PRM*=1.1))})),"None"!==e.eleType&&"Heal"!==e.eleType&&s[e.eleType].forEach((t=>{(0,o.Ly)(t)&&c(e,t,(0,o.Ly)(t))})),"GreatSword"===t&&r.GreatSword.ChargeLv(e),"SwitchAxe"===t&&("Impact Phial"===e.phialType?r.SwitchAxe.ImpactPhial(e):r.SwitchAxe.ElementalPhial(e)),e.stats.aff=Math.min(100,e.stats.aff)/100,e}function c(e,t,n){n?(0,o.Sy)(e.stats,window.thisKey.skills[t][n]):(0,o.Sy)(e.stats,window.thisKey.skills[t]),e.skillRecord.add(t)}(0,o.fy)()},899:(e,t,n)=>{n.d(t,{f:()=>s});var o=n(243),l=n(923),a=n(721);function s(){for(let e of Object.entries(window.thisKey.augIndex))e[1]>0&&(document.querySelector(`.augLabel.${e[0]}`).textContent=0,document.querySelector(`.augLabel.${e[0]}+ output`).textContent="+0",window.thisKey.augIndex[e[0]]=0);if(document.getElementById("weaponQurious").textContent="Remaining Weapon Augments 10/10",document.getElementById("elementDiv").classList.add("augInvis"),document.getElementById("statusDiv").classList.add("augInvis"),l.aP.value.includes("BowGun"))return;let e=(0,o.U)();(0,l.iH)(e)?function(){let e="GreatSword"===l.aP.value?[0,3,12,18,24]:/^Bow$|Dual/.test(l.aP.value)?[0,3,6,9,12]:/Bow/.test(l.aP.value)?[0,0,0,0,0]:[0,3,8,12,16];if(document.getElementById("statusDiv").classList.remove("augInvis"),window.thisKey.augs.statusAug[5]===e[5])return;window.thisKey.augs.statusAug.forEach(((t,n)=>t[1]=e[n]))}():"None"!==e.eleType&&function(){let e=/Great|Hammer/.test(l.aP.value)?[0,5,10,15,20,25,33,43,55]:/Lance/i.test(l.aP.value)?[0,3,6,10,14,18,24,32,42]:/Bow/.test(l.aP.value)?[0,0,0,0,0,0,0,0,0]:[0,3,6,9,12,15,20,27,35];if(document.getElementById("elementDiv").classList.remove("augInvis"),window.thisKey.augs.elementalAug[8]===e[8])return;window.thisKey.augs.elementalAug.forEach(((t,n)=>t[1]=e[n]))}()}document.querySelectorAll(".augButton.inc").forEach((e=>e.addEventListener("click",(e=>(e=>{let t=e.className.match(/\w+Aug$/)[0],n=window.thisKey.augIndex[t],s=window.thisKey.augs[t];if(n+1===s.length||e.classList.contains("rampageAug")&&n+(0,o.U)().rampageSlots+1>3)return;const r=Object.entries(window.thisKey.augs).reduce(((e,[t,n])=>e+n[window.thisKey.augIndex[t]][0]),0)+(s[n+1][0]-s[n][0]);if(r>10)return;const i=e.parentElement.querySelector("output.label");window.thisKey.augIndex[t]++,i.textContent=s[n+1][0],i.nextElementSibling.textContent=`+${s[n+1][1]}`,document.getElementById("weaponQurious").textContent=`Remaining Weapon Augments ${10-r}/10`,e.classList.contains("rampageAug")&&(0,a.E)(),(0,l.p8)(void 0,(0,o.U)())})(e.target))))),document.querySelectorAll(".augButton.dec").forEach((e=>e.addEventListener("click",(e=>(e=>{let t=e.className.match(/\w+Aug$/)[0],n=window.thisKey.augIndex[t];if(0===n)return;const s=e.parentElement.querySelector("output.label");let r=window.thisKey.augs[t];window.thisKey.augIndex[t]--,s.textContent=r[n-1][0],s.nextElementSibling.textContent=`+${r[n-1][1]}`;let i=Object.entries(window.thisKey.augs).reduce(((e,[t,n])=>e+n[window.thisKey.augIndex[t]][0]),0);document.getElementById("weaponQurious").textContent=`Remaining Weapon Augments ${10-i}/10`,e.classList.contains("rampageAug")&&(0,a.E)(),(0,l.p8)(void 0,(0,o.U)())})(e.target))))),document.getElementById("dropWeaponType").addEventListener("change",(()=>s())),document.getElementById("dropWeapon").addEventListener("change",(()=>s()))},812:(e,t,n)=>{var o=n(243);n(21);let l="",a=document.getElementById("dropWeaponType");function s(){if(""===l||l===document.getElementById("BowCoating")&&"Bow"!==a.value)return;let e=[];Object.values(l.children).some((e=>"OPTGROUP"===e.tagName))?(e=document.querySelectorAll(`${l.id}>*>*`),e.splice(-2),e.splice(0,0,l[0])):e=Object.values(l.children),e.forEach(((e,t)=>{let n="";if(l===document.getElementById("BowCoating"))n=(0,o.U)().coatings[t];else if(l===document.getElementById("BowgunBarrel"))n=["----","Long","Power","Silencer","Guard-Up"][t];else if(l===document.getElementById("Dereliction"))n=["----","Lv-1-1","Lv-1-2","Lv-1-3","Lv-2-1","Lv-2-2","Lv-2-3","Lv-3-1","Lv-3-2","Lv-3-3"][t];else{let e=t;"OPTGROUP"===l.children[1].tagName&&0!==t&&(e="Burst"===l.id&&t>=2?t-1:t%3==0?3:t%3),n="Burst"===l.id&&1===t?"Base Bonus":`Lv-${e}`}e.textContent=0===t?"----":n})),l=""}document.querySelectorAll(".buildSkills").forEach((e=>e.addEventListener("mousedown",(e=>{var t;(""===l||l!==e?.target||e.target.className.includes("augment"))&&(""!==l&&s(),e.target.classList.contains("skill")&&(t=e?.target,t.classList.contains("skill")&&Array.isArray(window.thisKey.skills[t.id])&&(window.thisKey.skills[t.id].forEach(((e,n)=>{let l;l=0===n?t.id:"RecoilDown"===t.id||"ReloadSpeed"===t.id?`${t.id.slice(0,6)} ${t.id.slice(6)} +${n}`:"AmmoUp"===t.id||"SpareShot"===t.id?`${n}: ${("AmmoUp"===t.id?["No Change","Lv2 & Ele Ammo","Lv3 & Dragon Ammo"]:["Spare Shot +5%","Spare Shot +10%","Spare Shot +20%"])[n-1]}`:"Marksman"===t.id?`${n}: ${["Chance 20% Raw + 5% EFR +1%","Chance 20% Raw +10% EFR +2%","Chance 60% Raw + 5% EFR +3% ","Chance 40% Raw +10% EFR +4%"][n-1]}`:"Bombardier"===t.id?"HeavyBowGun"===a.value?["Bombardier","1: Raw + 10% EFR + 10%","2: Sticky+10% Wyvern+15%","3: Raw + 20% EFR + 16%","4: Raw + 25% EFR + 17%"][n]:`${n}: Raw +${window.thisKey.skills.Bombardier[n].PRM}% EFR +${window.thisKey.skills.Bombardier[n].EFR}`:"BowgunBarrel"===t.id?["Barrels","Long: Raw + 5%","Power: Raw + 12.5%","Silencer: Recoil Down +1","Shield: Guard Up"][n]:"CriticalFirePower"===t.id?["-","Normal +30% Spread +20% Pierce +10% Recoil -2"][n]:function(e,t,n,l){let a=function(e,t){let n="";if(e.BR>0||e.PRM>1||e.BRM>1){if(n="Raw",e.BR>0&&(n+=/\d\.?\d/.test(e.BR)?`+${e.BR}`:` + ${e.BR}`),e.BRM>1){const t=/\.[1-8]/.test(100*(e.BRM-1))?(100*(e.BRM-1)).toFixed(1):(100*(e.BRM-1)).toFixed(0);n+=/\d\.?\d/.test(t)?`+${t}%`:` + ${t}%`}if(e.PRM>1){const o=/\.[1-8]/.test(100*(e.PRM-1))?(100*(e.PRM-1)).toFixed(1):(100*(e.PRM-1)).toFixed(0);n+="CriticalBoost"===t.id&&/\d\.?\d/.test(o-25)?`+${o-25}%`:"CriticalBoost"===t.id?` + ${o-25}%`:/\d\.?\d/.test(o)?`+${o}%`:` + ${o}%`}}return n}(e,t);const s=function(e){let t="";if(e.BE>0||e.PEM>1||e.BEM>1){if(t="Ele",e.BE>0&&(t+=/\d\.?\d/.test(e.BE)?`+${e.BE}`:` + ${e.BE}`),e.BEM>1){const n=/\.[1-8]/.test(100*(e.BEM-1))?(100*(e.BEM-1)).toFixed(1):(100*(e.BEM-1)).toFixed(0);t+=/\d\.?\d/.test(n)?`+${n}%`:` + ${n}%`}if(e.PEM>1){const n=/\.[1-8]/.test(100*(e.PEM-1))?(100*(e.PEM-1)).toFixed(1):(100*(e.PEM-1)).toFixed(0);t+=/\d\.?\d/.test(n)?`+${n}%`:` + ${n}%`}}return t}(e),r=e.aff>0&&/\d\.?\d/.test(e.aff)?`Aff+${e.aff}`:e.aff>0?`Aff + ${e.aff}`:"";if(a=Object.prototype.hasOwnProperty.call(e,"Sharp")&&e.Sharp<1?`Sharp +${100*e.Sharp}%`:a,a=Object.prototype.hasOwnProperty.call(e,"Sharp")&&e.Sharp>1?`Sharp +${e.Sharp}`:a,a=""===a&&""===s&&""===r?"No Change":a,t===document.getElementById("BowCoating"))return`${(0,o.U)().coatings[l]}: ${[a,s,r].join(" ")}`;let i=l+0;return"OPTGROUP"===t.children[1].tagName&&0!==l&&(i="Burst"===t.id&&l>=2?l-1:l%3==0?3:l%3),`${i}: ${[a,s,r].join(" ")}`}(e,t,0,n),window.thisKey.descriptions[t.id]||(window.thisKey.descriptions[t.id]=[]),window.thisKey.descriptions[t.id].push(l),t.options[n].textContent=l})),l=t)),"INPUT"===e.target.tagName&&e.target.className.includes("skillInput")&&(l=e.target))})))),document.querySelectorAll("select.skill").forEach((e=>e.addEventListener("change",(e=>{s(),e?.target.blur()})))),document.querySelector("#extraMenus").addEventListener("hover",(e=>{if(e.target.classList.includes("click")){"LABEL"===e.target.tagName?e.target.children[0].id:e.target.id}}))},923:(e,t,n)=>{n.d(t,{A2:()=>y,AN:()=>o,HH:()=>c,Ib:()=>I,Ly:()=>r,Sy:()=>m,VW:()=>f,aP:()=>d,fy:()=>u,iH:()=>E,j8:()=>S,p8:()=>B,qh:()=>w,rv:()=>i,sM:()=>s,uT:()=>v,uW:()=>p,wP:()=>a,yh:()=>l,zO:()=>h});const o=e=>document.getElementById(e).selectedIndex<=0?0:document.getElementById(e).selectedIndex,l=e=>document.getElementById(e)?.value,a=(e,t)=>document.getElementById(e).value=t,s=(e,t)=>document.getElementById(e).selectedIndex=t,r=e=>Math.min(window.selectedSkills[e]||0,window.thisKey.types.maxLevel[e]||window.thisKey.skills[e]?.length-1||7),i=e=>window.thisKey.skills[e][r(e)],c=e=>window.thisKey.skills[e][o(e)];const d=document.getElementById("dropWeaponType"),u=(e,t=void 0,n=void 0,o=void 0)=>o?window.thisKey.skills[e][t][n][o]:n?window.thisKey.skills[e][t][n]:t?window.thisKey.skills[e][t]:e?window.thisKey.skills[e]:{};function m(e,t){Array.isArray(t)||(t=[t]);for(let n of t)for(let t in n)2===t.length||"aff"===t?e[t]+=+n[t]:e[t]*=n[t];return e}const p=document.getElementById("dropWeapon"),g=(document.getElementById("dropWeaponType"),document.getElementById("dropHZ"),document.getElementById("dropMonster")),h=(document.getElementById("dropMonster2"),document.getElementById("dropQuest"),e=>e?e[0].toLowerCase()+e.slice(1):""),y=e=>e?e[0].toUpperCase()+e.slice(1):"",f=()=>["helm","chest","arm","waist","leg"],w=e=>isFinite(e)?window.util.twoWayHashing(e).replace(/(?<=[a-z])([A-Z])(?![A-Z])/g," $1"):e.replace(/(?<=[a-z])([A-Z])(?![A-Z])/g," $1"),E=e=>/Paralyze|Bomb|Sleep|Blast|Poison/.test(e.eleType),v=e=>/Paralyze|Bomb|Sleep|Blast|Poison/.test(e)?100:"None"===e||"none"===e?0:window.thisKey.monster[g.value].parts[o("dropHZV2")][h(e)];function S(e){let t=window.thisKey.monster[g.value].parts[o("dropHZV2")][h(e)];return t?"faslse"===document.getElementById("WaterBlight").checked?t:Math.min(100,~~(Math.max(t,.63*t+22.2)+3)):100}function B(e=d.value,t){t||(t=window.thisKey[e].weapons[p.value]),document.querySelector(".weapon .div6 output").textContent=t.baseRaw,t.baseEle?(document.querySelector(".weapon .div7 output").textContent=t.baseEle,document.querySelector(".weapon .div7 img").src=document.querySelector(".weapon .div7 img").src.replace(/(icons\/).*?(?=\.)/,`icons/${h(t.eleType)}`)):d.value.includes("BowGun")?(document.querySelector(".weapon .div7 output").textContent="Ammo",document.querySelector(".weapon .div7 img").src=document.querySelector(".weapon .div7 img").src.replace(/(icons\/).*?(?=\.)/,"icons/ammo")):(document.querySelector(".weapon .div7 img").src=document.querySelector(".weapon .div7 img").src.replace(/(icons\/).*?(?=\.)/,"icons/none"),document.querySelector(".weapon .div7 output").textContent=" 0 "),document.querySelector(".weapon .div8 output").textContent=t.aff,document.querySelectorAll("#weapon .decoDisplay img").forEach((e=>{e.classList.contains("augInvis")&&(e.nextElementSibling.selectedIndex=0)}))}function I(e,t,n=e){if(!t)return;let o="";e.forEach(((e,t)=>{o+=`<option value="${n[t]}">${e}</option>`})),t.innerHTML=o}},660:(e,t,n)=>{n.d(t,{X:()=>a});var o=n(243),l=n(923);function a(){let e=document.getElementById("dropWeaponType").value,t={};if("InsectGlaive"===e)return{...Object.fromEntries(Object.entries(window.thisKey.InsectGlaive.attacks).filter((e=>!/Sever|Blunt|Kinsect|Dust|Powder|Mark/.test(e[1].attackName))))};if("ChargeBlade"===e){const e="Impact Phial"===(0,o.U)().phialType?"Element Phial|Elemental Phial":"Impact Phial",n=new RegExp(`${e}`);return t=Object.fromEntries(Object.entries(window.thisKey.ChargeBlade.attacks).filter((e=>!n.test(e)))),{...t}}if("Bow"===e.value){let e="";const n=1===(0,l.Ly)("BowChargePlus")&&(0,o.U)().baseCharge<4?(0,o.U)().baseCharge+1:(0,o.U)().baseCharge;(0,o.U)().bowShot.forEach(((t,o)=>{o<n&&(e+=`|Lv${t.match("[1-5]")[0]} ${t.match("Normal|Rapid|Pierce|Spread")[0]}`)}));const a=new RegExp([e.slice(1)]);let s=Object.entries(window.thisKey.Bow.attacks).filter((e=>a.test(e[0])));return s=[].concat(Object.entries(window.thisKey.Bow.attacks).splice(0,1),s),s=s.concat(Object.entries(window.thisKey.Bow.attacks).splice(136)),t=Object.fromEntries(s),{...t}}return"Gunlance"===e.value?(t=Object.fromEntries(Object.entries(window.thisKey.Gunlance.attacks).splice(0,27)),{...t}):{...window.thisKey[e].attacks}}},243:(e,t,n)=>{n.d(t,{U:()=>l});const o=e=>/Paralyze|Bomb|Sleep|Blast|Poison/.test(e.eleType);function l(e,t=document.getElementById("dropWeaponType").value){const n=window.thisKey;let l=window.selectedSkills;const a=e||structuredClone(n[t].weapons[document.getElementById("dropWeapon").value]),s=10===a.rank&&document.getElementById("augUpgrades").checked;if(/BowGun/.test(t)&&("LightBowGun"===t&&"Long"===document.getElementById("BowgunBarrel").selectedOptions[0].text&&(a.baseRaw=~~(a.baseRaw*(l["Tune-Up"]<2?1.05:1.075))),"HeavyBowGun"===t&&"Power"===document.getElementById("BowgunBarrel").selectedOptions[0].text&&(a.baseRaw*=l["Tune-Up"]<2?1.125:1.15,a.baseRaw=~~a.baseRaw),s&&(a.baseRaw+="HeavyBowGun"===t?20:10)),"Bow"===t&&s&&(a.baseRaw+=15),!t.includes("Bow")&&s&&document.getElementById("augUpgrades").checked)if(/Water|Ice|Thunder|Fire|Dragon/.test(a.eleType))switch(a.baseRaw+=25,t){case"GreatSword":case"Hammer":a.baseEle+=30;break;case"lance":case"Gunlance":a.baseEle+=21;break;default:a.baseEle+=18}else a.baseRaw+=40;return a.baseRaw+=+document.querySelector("output.attackAug + output").value.slice(-2),a.aff=(a.aff||0)+ +document.querySelector("output.affinityAug + output").value.slice(-2),a.baseAff=a.aff,o(a)?a.baseEle+=+document.querySelector("output.statusAug + output").value.slice(-2):"None"!==a.eleType&&(a.baseEle+=+document.querySelector("output.elementalAug + output").value.slice(-2)),a}},721:(e,t,n)=>{n.d(t,{E:()=>s});var o=n(16),l=n(243);function a(e,t,n=e){if(!t)return;let o="";e.forEach(((e,t)=>{o+=`<option value="${n[t]}">${e}</option>`})),t.innerHTML=o}function s(){const e=window.thisKey;if(!document.getElementById("dropWeapon")?.value)return;const t=[],n=(0,l.U)(),[...s]=n.decos;let r=2;for(let e=3;e>=0&&r;e--)for(;s[e]>0;)t.push(e+1),--s[e],--r;if((0,o.uQ)("weapon",t),document.querySelectorAll("#weaponRampage>*").forEach((e=>e.classList.add("augInvis"))),document.getElementById("weaponRampage0").classList.remove("augInvis"),n.rampageSlots){const t=[];return document.getElementById("rampImg").src=document.getElementById("rampImg").src.replace(/ramp\d/,`ramp${Math.min(3,n.rampageSlots+e.augIndex.rampageAug)}`),Object.keys(e.rampage.rampageDecos).forEach((o=>{Number(o.slice(-1))<=Math.min(3,n.rampageSlots+e.augIndex.rampageAug)&&t.push(e.rampage.rampageDecos[o])})),void a(t,document.getElementById("weaponRampage0"))}document.querySelectorAll("#weaponRampage>*").forEach((e=>{e.selectedIndex=0,e.classList.add("augInvis")})),document.getElementById("weaponRampage0").classList.remove("augInvis"),/Rampage/.test(n.weapon)?e.rampage[n.weapon].Rampage.forEach(((e,t)=>{document.querySelector("#weaponRampage").children[t].classList.remove("augInvis"),a(Object.values(e),document.querySelector("#weaponRampage").children[t])})):n.rampage.forEach((t=>{const n=document.createElement("option");n.value=e.rampage.keys2[t],n.textContent=e.rampage.keys2[t],document.getElementById("weaponRampage0").append(n)}))}},661:(e,t,n)=>{n.d(t,{U_:()=>i,yq:()=>d});var o=n(660),l=n(243),a=n(923);const s=e=>1/(1-e);function r(e){let t=function(){const e=["purple","white","blue","green","yellow","orange","red"];let t=10*(0,a.Ly)("Handicraft");const{sharpness:n,handicraft:o,rank:s}=(0,l.U)();let r;for(let t=0;t<7;++t)if(n[e[t]]){r=t;break}for(let e=0;e<4;++e)if(!o[e+1]){o[e]+=70;break}let i=4===window.thisKey.augIndex.sharpnessAug?50:10*window.thisKey.augIndex.sharpnessAug;i+=10===s&&document.getElementById("augUpgrades").checked?20:0,t+=i;let c=e.length;for(;i&&c--;){let t=e[c],o=Math.min(n[t]-10,i);n[t]-=o,i-=o}for(;t;){const l=Math.min(t,o.shift());n[e[r]]+=l,--r,t-=l}return{...n}}();const n=window.thisKey.skills.RazorSharp[(0,a.Ly)("RazorSharp")].Sharp,o=window.thisKey.skills.MastersTouch[(0,a.Ly)("MastersTouch")].Sharp*e,r=e>0&&o?s(o)*s(n):s(n);return["purple","white","blue","green","yellow","orange","red"].forEach((e=>t[e]*=r)),t}function i(e,t=0){const n=["purple","white","blue","green","yellow","orange","red"];let l=function(e){let[...t]=e;if(null==e[0])return;let n=document.getElementsByClassName("inputComboRepeat")[0].value;for(;n>1;)t=t.concat(e),--n;return t}(e);const s={purple:[],white:[],blue:[],green:[],yellow:[],orange:[],red:[]},i="Bow"!==a.aP.value?r(t):[0,0,0,1,0,0,0,0],d=Object.values(i).reduce(((e,t)=>e+t));if(l){const e=Object.keys((0,o.X)());let t=0;const r=(0,o.X)();e:for(const o of l){const l=e[o];let d=r[l].ticsPer+1;const u=c(r[l].hitsOfSharp,o);if("Gunlance"!==a.aP.value||o<27)for(;d--;){if(i[n[t]]<.1&&7==++t)break e;s[n[t]].push(o),i[n[t]]-=u}}}return[i,s,d]}function c(e,t){return document.getElementById("ProtectivePolish").checked||"Bow"===a.aP.value?0:"Gunlance"!==a.aP.value||t>27?"DualBlades"!==a.aP.value?e:e/3:1}function d(e,t=0){const n=["purple","white","blue","green","yellow","orange","red"],[o,l,a]=i(e,t);let s=Object.values(o).lastIndexOf(0);document.getElementById("Sharpness").selectedIndex=s<0?7:s;for(let e of n){const t=document.getElementById(e);t.style.width=o[e]/a*99.9+"%",t.textContent=o[e]<.1?"":~~o[e],t.style.display=""===t.textContent?"none":""}return l}},470:(e,t,n)=>{n.d(t,{p:()=>s});var o=n(923);const l=e=>window.thisKey.skills[e][1],a=()=>Object.values(window.thisKey.monster[(0,o.yh)("dropMonster2")].species),s={"Hellion Mode":e=>"DualBlades"===o.aP.value?{aff:20}:{},"Valstrax Soul":e=>"Dragon"===e.eleType?l("ValstraxSoul"):{},"Kushala Daora Soul":e=>l("KushalaDaoraSoul"),"Dulling Strike":e=>document.getElementById("Sharpness").selectedIndex<5?l("DullingStrike"):{},"Wyvern Exploit":e=>"Invalid"!==a[1]?l("AntiSpecies"):{},"Fanged Exploit":e=>a[3]?l("AntiSpecies"):{},"Anti-Aerial Species":e=>"Arial"===a[2]?l("AntiSpecies"):{},"Anti-Aquatic Species":e=>"Aquatic"===a[2]?l("AntiSpecies"):{},"Fireblight Exploit":e=>l("ElementalBlightExploit"),"Waterblight Exploit":e=>l("ElementalBlightExploit"),"Iceblight Exploit":e=>l("ElementalBlightExploit"),"Thunderblight Exploit":e=>l("ElementalBlightExploit"),"Dragonblight Exploit":e=>l("ElementalBlightExploit"),"Magnamalo Soul":e=>l("MagnamaloSoul"),BrutalStrike:(e,t)=>(0===t.BrutalStrike?e.efrMulti=-1*e.stats.aff*.2*1.5-.8*e.stats.aff*.75:e.efrMulti=-1*e.stats.aff*.25*2- -1*e.stats.aff*.75*.75,{critBoost:1.5}),"Element Exploit":e=>{if((0,o.uT)(e.eleType)>=25&&(/Fire|Water|Ice|Thunder|Dragon/i.test(e.eleType)||o.aP.value.includes("BowGun")&&/Fire|Water|Ice|Thunder|Dragon/i.test(e.attackName)))return{PEM:0===e.rampageSlots?1.3:1.15}}}},651:(e,t,n)=>{n.d(t,{z:()=>o});const o=()=>{let e={skills:{}};const{skillIds:t,charms:n,types:o}=window.thisKey;let{decos:l,qurious:a,pointsPerSlot:s}=o;return e.skills=Object.values(document.querySelectorAll("#searcherSkills>div>output")).map((o=>{const r=o.className.split(" ")[1];let i=+t[r],c=+o.textContent.slice(-1);l[r]||a[r]||(n[r]?(e.charmNeeded||(e.charmNeeded={}),e.charmNeeded[i]=c):(e.setBonus||(e.setBonus={}),e.setBonus[i]=c));let d,u=a[r]/3||void 0,m=l[r]-1,p=s[3][r],g=p&&c>=p&&(p>1||!u),h=new Int8Array(Math.min(6,2*(4-m)));n[r]&&(d=[void 0,new Uint8Array([i,n[r][0][0]]),new Uint8Array([i,n[r][1][0]])]);let y=0;if(m>=0){h[y++]=3,h[y++]=p;for(let e=m;e<3;++e)h[y++]=e,h[y++]=s[e][r]}else h=0;return[c,i,u||void 0,c,h,{"+Skill":i},!g,d]})).sort(((e,t)=>!t[2]-!e[2]||~~t[2]-~~e[2]||~~t[5]-~~e[5]||~~e[6]-~~t[6])),{...e}}},689:(e,t,n)=>{var o=n(16),l=n(466),a=n(541),s=n(651),r=n(985);let i=[.75,6,4,9.5],c={};const d=document.getElementById("dropWeapon"),u=document.getElementById("dropWeaponType"),m=["helm","chest","arm","waist","leg"];let p=0,g=0;let h=0,y=[],f=0,w=[],E="",v=!window.location.origin.includes("github"),S=0;const B=({types:e}=window.thisKey)=>{let t=window.util.toSkillID,{remainingSlots:n,quriousSkills:o,allSkills:l}=c;for(let o of Object.values(l))if(e.lvl4[o.name])for(let a=0;a<4;a++){if(!n[a])continue;let s=e.decoLevels[a].find((e=>e[o.name]));a<3&&s?l[t(o.name)].level=Math.max(o.level,n[a]*s[o.name]):3===a&&(l[t(o.name)].level=Math.max(o.level,n[a]*e.lvl4[o.name]))}let a=5;for(;a--;)o[a]&&o[a]!==o[a+1]&&Object.entries(e.qurious).forEach((([e,n])=>{l[t(e)].level<l[t(e)].max&&n<=3*(a+1)&&o[a]>l[t(e)].level&&(l[t(e)].level=o[a])}));return Object.values(l).map((e=>[e.name,Math.min(e.max,e.level)])).sort()},I=e=>{let t="";e.forEach((e=>{e[1]&&(t+=`<button type="button" text="${e[0]}">${e[0].replace(/(?<=[a-z])([A-Z])(?![A-Z])/g," $1")} +${+e[1]}</button>`)})),document.getElementById("temp")&&document.getElementById("temp").remove(),document.querySelector(".extraSkills").innerHTML+=t,window.location.href.includes("github")||console.log((performance.now()-g)/1e3,p,i)},b=e=>{let t="",n=window.util.toSkillName;for(let o of e){let e=`${n(o.charms[0][0])}: ${o.charms[0][1]} & ${n(o.charms[1][0])}: ${o.charms[1][1]}`;t+=`<option value="${e}">${e}</option>`}return t},x=e=>{for(const t of e){w.push(t);let e='<div class="setResult"><button type="button" aria-pressed="false" class="equipBuild">Equip Build</button>';for(let n=0;n<5;n++)e+=`<output class="armorImg ${m[n]}"></output><span>${t.armors[n]}</span>`;e+=`<output class="armorImg charm"></output><select class="armorCharm">${b(t.usedSkills)}</select></div>`,E+=e}},k=(e,t)=>e>=t?e:t;const L=(e,t)=>{v&&(g=performance.now()),w=[],y.length&&y.forEach((e=>e.terminate())),y=function(){let e=[];for(let t=0;t<5;t++)e[t]=new Worker("./setBuildWorker.js",{name:`${t}`}),e[t].addEventListener("message",(e=>{if(e.data){p+=e.data.count.combos,S+=e.data.count.sets,x(e.data.sets);let t=0;for(let e of w)e?.usedSkills?.length&&(t+=e.usedSkills.length);document.getElementById("extraOutput").textContent=`Found ${S.toLocaleString()} Builds / ${p.toLocaleString()} Combinations`,document.getElementById("setOutput").textContent=`Displayed ${Math.min(100,w.length)} Builds / ${t.toLocaleString()} Combinations`;for(let t=0;t<4;t++)c.remainingSlots[t]=k(c.remainingSlots[t]||0,e.data.stats.remainingSlots[t]);for(let t=0;t<5;t++)c.quriousSkills[t]=k(c.quriousSkills[t]||0,e.data.stats.quriousSkills[t]);for(const[t,n]of Object.entries(e.data.stats.armorSkills))c.allSkills[window.util.toSkillID(t)].level=k(c.allSkills[window.util.toSkillID([t])].level,n)}--f||(I(B()),document.querySelector("div.grid").innerHTML=E,E="",p||(document.getElementById("setOutput").textContent="No Results Found",document.getElementById("extraOutput").textContent="Found 0 Builds / 0 Combinations",document.querySelectorAll(".grid>div").forEach((e=>e.remove()))))}));return e}(),f=5;const n=(0,s.z)();n.charmSlots=[...window.thisKey[u.value].weapons[d.value].decos],document.querySelectorAll(".charmSlot").forEach((e=>{e.selectedIndex>0&&++n.charmSlots[e.selectedIndex-1]})),n.armors=e||(0,a.x)(t),n.setLimiter=4-document.getElementById("skillsLimit").selectedIndex;let o=n.armors.leg.splice(0),l=~~(o.length/5);for(const e of y)n.armors.leg=o.splice(0,l),e.postMessage(n);(()=>{let e=window.util.toSkillID,t=window.util.toSkillName;const n={};Object.values(document.querySelectorAll("#searcherSkills label")).forEach((e=>n[e.textContent]={totalPoints:+e.nextElementSibling.value[3]})),document.getElementById("setReturn").classList.remove("augInvis"),document.querySelectorAll(".extraSkills>button").forEach((e=>e.remove())),document.getElementById("temp")&&document.getElementById("temp").remove(),document.getElementById("setOutput").textContent="Displayed 0 Builds / 0 Combinations",document.getElementById("extraOutput").textContent="Found 0 Builds / 0 Combinations",document.querySelector(".extraSkills").innerHTML+="<P2 id='temp' style='font-size:18px !important; height:15em !important;'>Searching...</P2>",document.getElementsByClassName("grid")[0].innerHTML="",c={remainingSlots:[0,0,0,0],armorSkills:{},quriousSkills:[0,0,0,0,0],allSkills:{}},Object.entries(window.thisKey.types.maxLevel).forEach((([o,l])=>c.allSkills[e(o)]={name:o,max:l-(n[t(o)]||0),level:0})),p=0,S=0})()};let C=0,A="";document.addEventListener("keypress",(e=>{e.key===["t","e","s","t"][Math.min(3,C)]&&++C<3||("Enter"===e.key&&C>=3?([["PeakPerformance",3],["Coalescence",3],["CriticalEye",7],["CriticalBoost",3],["MaximumMight",3],["RecoilDown",3],["ReloadSpeed",3],["RapidFireUp",3],["PierceUp",3],["Burst",1],["Agitator",5],["AttackBoost",7],["AmmoUp",2],["SpareShot",3],["WeaknessExploit",3],["Tune-Up",1],["Bloodlust",1]].forEach((e=>(0,l.Nb)(e[0],e[1]))),L(),A="",C=0):/t|f/.test(e.key)&&C>=3?A=e.key:C<3&&(C=0))})),document.addEventListener("keypress",(e=>{e.key===["b","u","i","l","d"][Math.min(5,h)]&&++h<5||"Enter"===e.key&&h>=5&&([["AttackBoost",7],["Bloodlust",3],["Burst",3],["Strife",3],["Coalescence",1],["CriticalBoost",3],["CriticalElement",3],["Dragonheart",5],["DragonAttack",5],["ElementExploit",3],["Frostcraft",3],["Resentment",5],["MailofHellfire",3],["Agitator",5],["DragonConversion",3],["WeaknessExploit",3]].forEach((e=>(0,l.Nb)(e[0],e[1]))),L(),console.log(w),h=0),h=0})),document.getElementById("startSearch").addEventListener("click",(()=>{Object.values(document.querySelectorAll("#charmSlots select, #dropWeapon,#dropWeaponType")).forEach((e=>e.disabled=1)),L()})),document.getElementById("extendedSearch").addEventListener("click",(()=>{Object.values(document.querySelectorAll("#charmSlots select, #dropWeapon,#dropWeaponType")).forEach((e=>e.disabled=1)),L()})),document.querySelector(".grid").addEventListener("mousedown",(e=>{if("BUTTON"!==e.target.tagName)return;const t=Object.values(document.querySelectorAll("div.grid > div.setResult")).indexOf(e.target.parentElement);if(!w[t])return;let n=e.target.parentElement.lastElementChild.selectedIndex;const a=w[t].usedSkills[n];if((0,o.dj)(a.charms),(0,o.qy)(a.armors,w[t].armors),function(e){for(let t=0;t<4;t++){let n="",o=0;const l=Object.values(document.querySelectorAll(`.lvl${t+1}+select`));for(let a=0;a<l.length&&e[t][a];a++)if(n!==e[t][a]){n=e[t][a];for(let e=0;e<l[a].children.length;++e)if(l[a].children[e].value<=t+1&&l[a].children[e].textContent.includes(n)){l[a].selectedIndex=e,o=e;break}}else l[a].selectedIndex=o}}((0,o.G_)(a.decos)),document.getElementById("setReturn").classList.add("augInvis"),document.getElementById("damageTable").classList.remove("augInvis"),Object.values(document.querySelectorAll("#charmSlots select, #dropWeapon,#dropWeaponType")).forEach((e=>e.disabled=0)),document.querySelectorAll(".extraSkills>button").forEach((e=>e.remove())),document.querySelectorAll(".grid>div").forEach((e=>e.remove())),(0,o.to)(!0),(0,o.AB)(),(0,l.TG)(),v){const e={};document.querySelectorAll("#searcherSkills>div>output").forEach((t=>{const n=t.className.split(" ")[1];e[n]={totalPoints:t.textContent.match(/(?<=Lv-)\d/)[0]}})),(0,r.p)(structuredClone(a),w[t].armors)}y.forEach((e=>e.terminate())),y=[],w=[]}))}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(466),n(16),n(923),n(618),n(812),n(243),n(470),n(21),n(984),n(899),n(661),n(660),n(689),n(541),n(651);n(985)})();
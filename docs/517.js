(self.webpackChunkmhrdamage=self.webpackChunkmhrdamage||[]).push([[517],{517:(e,t,n)=>{n.r(t),n.d(t,{konamiCode:()=>p,loadState:()=>r,saveState:()=>i});var a=n(975),l=n(38);const o=e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)};let c=document.getElementById("dropWeapon").value,d=document.getElementById("dropWeaponType").value,s=()=>{let e="";window.thisKey[d].weapons.forEach(((t,n)=>{t.rank<10||(e+=`<option value="${n}">${t.weapon}</option>`)})),document.getElementById("dropWeapon").innerHTML=e};function i(){const e=[c.selectedIndex,d.selectedIndex];document.querySelectorAll("#skillSelect label").forEach((t=>{e.push([t.textContent,+t.nextElementSibling.textContent.slice(-1)])})),o(JSON.stringify([[e],Object.values(document.querySelectorAll("section.armorDisplay")).map((e=>[].concat(Object.values(e.querySelectorAll(".armor,select.augmentType,select.augment")).map((e=>e.selectedIndex)),Object.values(e.querySelectorAll("select.armorDisplay")).map((e=>e.selectedIndex)))))]))}function r(){navigator.clipboard.readText().then((async e=>{const t=JSON.parse(e),n=await t.shift()[0];document.getElementById("dropWeaponType").selectedIndex=await n.shift(),await(0,l.rA)(),await s(),document.getElementById("dropWeapon").selectedIndex=await n.shift(),await(0,l.E_)(),await n.forEach((e=>(0,l.Nb)(e[0],e[1]))),(0,a.getSetBuilds)(15)}))}document.getElementById("saveState").addEventListener("click",(()=>i())),document.getElementById("loadState").addEventListener("click",(()=>r()));let u=[38,38,40,40,37,39,37,39,97,98,13],m=0;function p(e){(0,l.rA)(e);const t=window.thisKey.types.maxLevel,n=Object.entries(t).sort();document.querySelector("#EquippedSkillDisplay>output").innerHTML=function(e,t){let n="";for(const[a,l]of e){let e="Active",o=["Active","Inactive"];if("Dereliction"===a)o=["Lvl-3","Inactive","Lvl-1","Lvl-2"],e=o[0];else if("Fortify"===a)o=["Inactive","Lvl-1","Lvl-2"],e=o[0];else if("Frostcraft"===a){switch(l){case 1:o=["Lvl-1","Inactive"];break;case 2:o=["Lvl-2","Lvl-1","Inactive"];break;default:o=["Lvl-3","Lvl-2","Lvl-1","Inactive"]}e=o[0]}else"Strife"===a&&(o=["High","Low","Inactive"],e=o[0]);n+=`<button type="button" aria-pressed="false" data-state="0" onclick='let states = ${JSON.stringify(o)}; let index = (parseInt(this.dataset.state) + 1) % states.length; this.textContent = states[index]; this.dataset.state = index;'>${e}</button><output>${t(a)}: ${l}</output>`}return n}(n,(e=>e.replace(/(?<=[a-z])([A-Z])(?![A-Z])/g," $1"))),Object.values(document.querySelectorAll(`select.${e},#dango select`)).forEach((e=>e.selectedIndex=e.childElementCount-1)),Object.values(document.querySelectorAll("#boxes .check")).forEach((e=>e.checked=!0)),console.log("Konami Code entered!")}document.addEventListener("keydown",(function(e){e.keyCode===u[m]?(m++,m===u.length&&(p(document.getElementById("dropWeaponType").value),m=0)):m=0}))}}]);
"use strict";(self["webpackChunkmhrdamage"]=self["webpackChunkmhrdamage"]||[]).push([[812],{812:(e,t,i)=>{i.r(t);i.d(t,{applyEleDescription:()=>applyEleDescription,applyRawDescription:()=>applyRawDescription,resetSkillDescription:()=>resetSkillDescription,setSkillDescriptions:()=>setSkillDescriptions});var o=i(243);let l="";let r=document.getElementById("dropWeaponType");function resetSkillDescription(){if(l===""||l===document.getElementById("BowCoating")&&r.value!=="Bow"){return}let e=[];if(Object.values(l.children).some((e=>e.tagName==="OPTGROUP"))){e=document.querySelectorAll(`${l.id}>*>*`);e.splice(-2);e.splice(0,0,l[0])}else{e=Object.values(l.children)}e.forEach(((e,t)=>{let i="";if(l===document.getElementById("BowCoating")){i=(0,o.U)().coatings[t]}else if(l===document.getElementById("BowgunBarrel")){i=["----","Long","Power","Silencer","Guard-Up"][t]}else if(l===document.getElementById("Dereliction")){i=["----","Lv-1-1","Lv-1-2","Lv-1-3","Lv-2-1","Lv-2-2","Lv-2-3","Lv-3-1","Lv-3-2","Lv-3-3"][t]}else{let e=t+0;if(l.children[1].tagName==="OPTGROUP"&&t!==0){if(l.id==="Burst"&&t>=2){e=t-1}else{e=t%3===0?3:t%3}}i=l.id==="Burst"&&t===1?"Base Bonus":`Lv-${e}`}e.textContent=t===0?"----":i}));l=""}document.querySelectorAll(".buildSkills").forEach((e=>e.addEventListener("mousedown",(e=>{if(l!==""&&l===e?.target&&!e.target.className.includes("augment"))return;if(l!==""){resetSkillDescription()}if(e.target.classList.contains("skill")){setSkillDescriptions(e?.target)}if(e.target.tagName==="INPUT"&&e.target.className.includes("skillInput"))l=e.target}))));document.querySelectorAll("select.skill").forEach((e=>e.addEventListener("change",(e=>{resetSkillDescription();e?.target.blur()}))));function setSkillDescriptions(e){if(e.classList.contains("skill")&&Array.isArray(window.info.skills[e.id])){window.info.skills[e.id].forEach(((t,i)=>{let o;if(i===0){o=e.id}else if(e.id==="RecoilDown"||e.id==="ReloadSpeed"){o=`${e.id.slice(0,6)} ${e.id.slice(6)} +${i}`}else if(e.id==="AmmoUp"||e.id==="SpareShot"){const t=e.id==="AmmoUp"?["No Change","Lv2 & Ele Ammo","Lv3 & Dragon Ammo"]:["Spare Shot +5%","Spare Shot +10%","Spare Shot +20%"];o=`${i}: ${t[i-1]}`}else if(e.id==="Marksman"){o=`${i}: ${["Chance 20% Raw + 5% EFR +1%","Chance 20% Raw +10% EFR +2%","Chance 60% Raw + 5% EFR +3% ","Chance 40% Raw +10% EFR +4%"][i-1]}`}else if(e.id==="Bombardier"){o=r.value==="HeavyBowGun"?["Bombardier","1: Raw + 10% EFR + 10%","2: Sticky+10% Wyvern+15%","3: Raw + 20% EFR + 16%","4: Raw + 25% EFR + 17%"][i]:`${i}: Raw +${window.info.skills.Bombardier[i][0]}% EFR +${window.info.skills.Bombardier[i][1]}`}else if(e.id==="BowgunBarrel"){o=["Barrels","Long: Raw + 5%","Power: Raw + 12.5%","Silencer: Recoil Down +1","Shield: Guard Up"][i]}else if(e.id==="CriticalFirePower"){o=["-","Normal +30% Spread +20% Pierce +10% Recoil -2"][i]}else{o=applyDescription(t,e,o,i)}if(!window.info.descriptions[e.id]){window.info.descriptions[e.id]=[]}window.info.descriptions[e.id].push(o);e.options[i].textContent=o}));l=e}}function applyDescription(e,t,i,l){let r=applyRawDescription(e,t);const n=applyEleDescription(e);const s=e.aff>0&&/\d\.?\d/.test(e.aff)?`Aff+${e.aff}`:e.aff>0?`Aff + ${e.aff}`:"";r=Object.prototype.hasOwnProperty.call(e,"Sharp")&&e.Sharp<1?`Sharp +${e.Sharp*100}%`:r;r=Object.prototype.hasOwnProperty.call(e,"Sharp")&&e.Sharp>1?`Sharp +${e.Sharp}`:r;r=r===""&&n===""&&s===""?"No Change":r;if(t===document.getElementById("BowCoating")){const e=(0,o.U)().coatings;return`${e[l]}: ${[r,n,s].join(" ")}`}let a=l+0;if(t.children[1].tagName==="OPTGROUP"&&l!==0){if(t.id==="Burst"&&l>=2){a=l-1}else{a=l%3===0?3:l%3}}return`${a}: ${[r,n,s].join(" ")}`}function applyEleDescription(e){let t="";if(e.BE>0||e.PEM>1||e.BEM>1){t="Ele";if(e.BE>0){t+=/\d\.?\d/.test(e.BE)?`+${e.BE}`:` + ${e.BE}`}if(e.BEM>1){const i=/\.[1-8]/.test((e.BEM-1)*100)?((e.BEM-1)*100).toFixed(1):((e.BEM-1)*100).toFixed(0);t+=/\d\.?\d/.test(i)?`+${i}%`:` + ${i}%`}if(e.PEM>1){const i=/\.[1-8]/.test((e.PEM-1)*100)?((e.PEM-1)*100).toFixed(1):((e.PEM-1)*100).toFixed(0);t+=/\d\.?\d/.test(i)?`+${i}%`:` + ${i}%`}}return t}function applyRawDescription(e,t){let i="";if(e.BR>0||e.PRM>1||e.BRM>1){i="Raw";if(e.BR>0){i+=/\d\.?\d/.test(e.BR)?`+${e.BR}`:` + ${e.BR}`}if(e.BRM>1){const t=/\.[1-8]/.test((e.BRM-1)*100)?((e.BRM-1)*100).toFixed(1):((e.BRM-1)*100).toFixed(0);i+=/\d\.?\d/.test(t)?`+${t}%`:` + ${t}%`}if(e.PRM>1){const o=/\.[1-8]/.test((e.PRM-1)*100)?((e.PRM-1)*100).toFixed(1):((e.PRM-1)*100).toFixed(0);i+=t.id==="CriticalBoost"&&/\d\.?\d/.test(o-25)?`+${o-25}%`:t.id==="CriticalBoost"?` + ${o-25}%`:/\d\.?\d/.test(o)?`+${o}%`:` + ${o}%`}}return i}document.querySelector("#extraMenus").addEventListener("hover",(e=>{if(e.target.classList.includes("click")){let t=e.target.tagName==="LABEL"?e.target.children[0].id:e.target.id}}))}}]);